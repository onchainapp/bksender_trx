(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{602:function(e,t,r){"use strict";r.r(t),function(e){r(124);var n,c,o,d,m,l,f,h,S,x,k,T,v,E,O,R,_,j,w,y,A,I,D,C,F,N,G,P,U,L,B,H,V,K,X,M,W,Y,z,J,Q,$=r(155),Z=(r(68),r(3)),ee=(r(178),r(179),r(69),r(9)),te=r(37),re=(r(615),r(156)),ne=r(13),ae=r(303),se=r(828),ce={dappFee:function(e){return e.isVIP?0:tronWeb.fromSun(e.txFee,"ether")},txFee:function(e){if(e.isVIP)return 0;try{return Object(ne.a)(e.extraFee).gt(Object(ne.a)(e.txFee))?Object(ne.a)(e.extraFee).toString(10):e.txFee}catch(t){return e.txFee}},vipFee:function(e){return tronWeb.fromSun(e.vipFee,"ether")},bulksenderInstance:function(e,t,r,n){return Object(Z.a)(regeneratorRuntime.mark((function e(){var t,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.metamask,t.ethAccount,c=t.netId,o=re.a["netId".concat(c)].bulksenderContract,e.next=4,n["metamask/tronWeb"]();case 4:return d=e.sent,e.next=7,d.contract().at(o);case 7:return m=e.sent,e.abrupt("return",m);case 9:case"end":return e.stop()}}),e)})))}},oe={setUsedBurnerKey:(Q=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.usedBurnerKey,n("SET_USED_BURNER_KEY",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return Q.apply(this,arguments)}),setGasPrice:(J=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.gasPrice,n("SET_GAS_PRICE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return J.apply(this,arguments)}),setExtraFee:(z=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.extraFee,n("SET_EXTRA_FEE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return z.apply(this,arguments)}),createNewAddress:(Y=Object(Z.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,e.abrupt("return",(new ae).create());case 2:case"end":return e.stop()}}),e)}))),function(e){return Y.apply(this,arguments)}),saveBurnerKey:(W=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.burnerKey,n("SET_BURNER_KEY",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return W.apply(this,arguments)}),createBurnKey:(M=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.state,t.getters,n=t.commit,e.next=3,r("createNewAddress");case 3:return c=e.sent,n("SET_BURNER_KEY",c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)}),createNewUniqueId:(X=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r=Date.parse(new Date),n=10*Math.random(),e.next=5,tronWeb.sha3(r+"_"+n);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),function(e){return X.apply(this,arguments)}),formatUniqueId:(K=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,n=r.uniqueId,e.next=4,tronWeb.sha3(n);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)}),createNewUniqueId_V1:(V=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r.fromAddress,r.toAddress,n=Date.parse(new Date),c=10*Math.random(),e.abrupt("return",tronWeb.fromAscii(n+"_"+c));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return V.apply(this,arguments)}),getBulksenderContractAddress:(H=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.commit,e.next=3,r.bulksenderInstance();case 3:c=e.sent,n("SET_BULKSENDER_ADDRESS",tronWeb.address.fromHex(c.address));case 5:case"end":return e.stop()}}),e)}))),function(e){return H.apply(this,arguments)}),clearUsedParams:(B=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.dispatch,r=t.commit,t.rootState,r("CLEAR");case 2:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)}),initBaseParams:(L=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.dispatch,c=t.commit,o=t.rootState,e.next=3,r.bulksenderInstance();case 3:d=e.sent,c("SET_BULKSENDER_ADDRESS",tronWeb.address.fromHex(d.address)),m=o.metamask,l=m.netId,f=m.gasPrice,h=m.maxCpuTimeOfOneTx,S=re.a["netId".concat(l)].explorerUrl,c("SET_TX_URL",S.tx),c("SET_ADDRESS_URL",S.address),c("SET_GAS_PRICE",f.fast),c("SET_MAX_GAS_USED",h),n("getTxFee"),n("getVIPStatus"),n("getVIPFee");case 14:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)}),getTxFee:(U=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,r=t.commit,t.dispatch,n=t.getters,c=t.rootGetters,t.state,o=c["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var c=function(){var d=Object(Z.a)(regeneratorRuntime.mark((function d(m){var l,f,h,S;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return l=m.retryAttempt,f=void 0===l?1:l,f++,d.prev=2,d.next=5,n.bulksenderInstance();case 5:return h=d.sent,d.next=8,h.txFee().call();case 8:S=d.sent,S=Object(te.hexToNumberString)(S),r("SET_TX_FEE",S),console.log("Tx fee",S),e(S),d.next=18;break;case 15:d.prev=15,d.t0=d.catch(2),f>=o?t(d.t0):c({retryAttempt:f});case 18:case"end":return d.stop()}}),d,null,[[2,15]])})));return function(e){return d.apply(this,arguments)}}();c({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return U.apply(this,arguments)}),getVIPFee:(P=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,t.dispatch,c=t.getters,o=t.rootGetters,t.state,d=o["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var o=function(){var m=Object(Z.a)(regeneratorRuntime.mark((function m(l){var f,h,S,x;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,m.prev=2,r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return S=m.sent,m.next=9,S.VIPFee().call();case 9:x=m.sent,x=Object(te.hexToNumberString)(x),n("SET_VIP_FEE",x),console.log("VIP fee",x),e(x),m.next=19;break;case 16:m.prev=16,m.t0=m.catch(2),h>=d?t(m.t0):o({retryAttempt:h});case 19:case"end":return m.stop()}}),m,null,[[2,16]])})));return function(e){return m.apply(this,arguments)}}();o({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)}),getVIPStatus:(G=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,t.dispatch,c=t.getters,o=t.rootGetters,t.state,d=o["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var o=function(){var m=Object(Z.a)(regeneratorRuntime.mark((function m(l){var f,h,S,x,k;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,m.prev=2,S=r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return x=m.sent,m.next=9,x.isVIP(S).call();case 9:k=m.sent,n("SET_IS_VIP",k),console.log("VIP Status",k),e(k),m.next=18;break;case 15:m.prev=15,m.t0=m.catch(2),h>=d?t(m.t0):o({retryAttempt:h});case 18:case"end":return m.stop()}}),m,null,[[2,15]])})));return function(e){return m.apply(this,arguments)}}();o({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return G.apply(this,arguments)}),buyVIP:(N=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,Object($.a)(r),e.next=4,n("_buyVIP",{});case 4:return o=e.sent,c("SET_VIP_TX_HASH",o),c("SET_VIP_TX_STATUS",0),n("checkBulksenderVIPBuyingTransactionStatus",{txHash:o}),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)}),_buyVIP:(F=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,t.dispatch,t.commit,Object($.a)(r),d=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(Z.a)(regeneratorRuntime.mark((function m(l){var f,h,S,x;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,m.prev=2,o.metamask.gasPrice.fast,o.metamask.ethAccount,m.next=7,c.bulksenderInstance();case 7:return S=m.sent,m.next=10,S.registerVIP().send({callValue:n.vipFee});case 10:x=m.sent,e(x),m.next=17;break;case 14:m.prev=14,m.t0=m.catch(2),h>=d||402==m.t0.code?t(m.t0):r({retryAttempt:h});case 17:case"end":return m.stop()}}),m,null,[[2,14]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return F.apply(this,arguments)}),_bulksendToken:(C=Object(Z.a)(regeneratorRuntime.mark((function t(r,n){var c,o,d,m,l,f,h,S,x,k,T,v,E,O,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.state,o=r.getters,d=r.rootState,r.rootGetters,m=r.dispatch,l=r.commit,f=n.uniqueId,h=n.tokenAddress,S=n.estimateGas,x=void 0===S?0:S,k=n.decimals,T=n.addresses,v=n.amounts,E=n.nonce,O=void 0===E?0:E,n.estimateFee,R=c.checkSimpleTimes,t.abrupt("return",new Promise((function(t,r){var n=function(){var S=Object(Z.a)(regeneratorRuntime.mark((function S(E){var _,j,w,y,A,I,D,C,F,data,N,G,P,U,L,B,s,H,V,K,X,M,W,Y,z;return regeneratorRuntime.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return _=E.retryAttempt,j=void 0===_?1:_,j++,S.prev=2,d.metamask.ethAccount,S.next=6,o.bulksenderInstance();case 6:return w=S.sent,y=c.bulksenderAddress,S.next=10,m("formatUniqueId",{uniqueId:f});case 10:if(A=S.sent,I=Object(ne.a)("0"),D=[],v.forEach((function(e){var t=Object(ne.a)(e).times(Object(ne.a)(10).pow(parseInt(k)));I=I.plus(t),D.push(t.toString(10))})),C=I.toString(10),D.unshift(C),(F=[].concat(T)).unshift(y),N=c.feeLimit,!c.usedBurnerKey){S.next=40;break}return G=c.burnerKey,P=c.burner,U=c.burnerSignature,L=U.v,B=U.r,s=U.s,data=w.methods.bulksendTokenForBurners(h,F,D,A,c.simple,P,L,B,s).encodeABI(),H=e.from(G.privateKey.replace("0x",""),"hex"),V={nonce:Object(te.numberToHex)(O),gasPrice:Object(te.toHex)(Object(te.toWei)(c.gasPrice.toString(),"gwei")),gasLimit:Object(te.numberToHex)(x+c.commonExtraGas+c.delegaterExtraGas),to:y,value:Object(te.toHex)(o.txFee),data:data},(K=new se(V)).sign(H),X=K.serialize(),M="0x"+X.toString("hex"),W={method:"eth_sendRawTransaction",params:[M]},S.next=36,m("metamask/sendAsync",W,{root:!0});case 36:Y=S.sent,t(Y),S.next=58;break;case 40:if(z="","number"!=typeof h||isNaN(h)){S.next=48;break}return S.next=45,w.bulksendTRC10(h,F,D,A).send({callValue:o.txFee,feeLimit:N,tokenId:h,tokenValue:C});case 45:z=S.sent,S.next=57;break;case 48:if(!c.simple){S.next=54;break}return S.next=51,w.bulksendTokenSimple(h,F,D,A).send({callValue:o.txFee,feeLimit:N});case 51:z=S.sent,S.next=57;break;case 54:return S.next=56,w.bulksendToken(h,F,D,A).send({callValue:o.txFee,feeLimit:N});case 56:z=S.sent;case 57:t(z);case 58:console.log("bulksend tx",x),S.next=65;break;case 61:S.prev=61,S.t0=S.catch(2),console.info(S.t0),j>=R||402==S.t0.code||"Confirmation declined by user"==S.t0?(l("ADD_FAILED_TXS",""),402==S.t0.code||"Confirmation declined by user"==S.t0?t("User denied transaction signature."):r(S.t0)):n({retryAttempt:j});case 65:case"end":return S.stop()}}),S,null,[[2,61]])})));return function(e){return S.apply(this,arguments)}}();n({})})));case 4:case"end":return t.stop()}}),t)}))),function(e,t){return C.apply(this,arguments)}),bulksendToken:(D=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S,x,k,T,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,o=r.uniqueId,d=r.estimateGas,m=void 0===d?0:d,l=r.tokenAddress,f=r.decimals,h=r.addresses,S=r.amounts,x=r.nonce,k=void 0===x?0:x,T=r.estimateFee,e.next=4,n("_bulksendToken",{uniqueId:o,tokenAddress:l,estimateGas:m,decimals:f,addresses:h,amounts:S,nonce:k,estimateFee:T});case 4:if("User denied transaction signature."==(v=e.sent)||null==v||null==v){e.next=14;break}return console.info("txHash",v),c("ADD_TX",v),n("common/updateBulkSentStatus",{status:0,txHash:v,uniqueId:o},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:o,txHash:v}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)}),bulksendEther:(I=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S,x,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,o=r.uniqueId,d=r.estimateGas,m=void 0===d?0:d,l=r.tokenAddress,f=r.decimals,h=r.addresses,S=r.amounts,x=r.estimateFee,e.next=4,n("_bulksendEther",{uniqueId:o,tokenAddress:l,estimateGas:m,decimals:f,addresses:h,amounts:S,estimateFee:x});case 4:if("User denied transaction signature."==(k=e.sent)){e.next=14;break}return console.info("txHash",k),c("ADD_TX",k),n("common/updateBulkSentStatus",{status:0,txHash:k,uniqueId:o},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:o,txHash:k}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)}),_bulksendEther:(A=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,l=r.uniqueId,r.tokenAddress,r.estimateGas,f=r.decimals,h=r.addresses,S=r.amounts,r.estimateFee,x=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var k=Object(Z.a)(regeneratorRuntime.mark((function k(T){var v,E,O,R,_,j,w,y,A,I,D,C,F;return regeneratorRuntime.wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return v=T.retryAttempt,E=void 0===v?1:v,E++,k.prev=2,(O=o.metamask).ethAccount,O.netId,k.next=6,c.bulksenderInstance();case 6:return R=k.sent,_=n.bulksenderAddress,k.next=10,d("formatUniqueId",{uniqueId:l});case 10:return j=k.sent,w=Object(ne.a)("0"),y=[],S.forEach((function(e){var t=Object(ne.a)(e).times(Object(ne.a)(10).pow(parseInt(f)));w=w.plus(t),y.push(t.toString(10))})),A=w.toString(10),y.unshift(A),(I=[].concat(h)).unshift(_),D=w.plus(Object(ne.a)(c.txFee)).toString(10),C=n.feeLimit,k.next=22,R.bulksendEther(I,y,j).send({callValue:D,feeLimit:C});case 22:F=k.sent,e(F),k.next=29;break;case 26:k.prev=26,k.t0=k.catch(2),E>=x||402==k.t0.code||"Confirmation declined by user"==k.t0?(m("ADD_FAILED_TXS",""),402==k.t0.code||"Confirmation declined by user"==k.t0?e("User denied transaction signature."):t(k.t0)):r({retryAttempt:E});case 29:case"end":return k.stop()}}),k,null,[[2,26]])})));return function(e){return k.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return A.apply(this,arguments)}),estimateGasForPerTransferUsedBulksender:(y=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,t.commit,c=r.tokenAddress,o=r.testAddresses,d=r.testBalances,e.prev=2,m=o,l=d,"0x0000000000000000000000000000000000000000"!=c&&"410000000000000000000000000000000000000000"!=c){e.next=10;break}return e.next=8,n("estimateGasForPerEtherTransfer",{tokenAddress:c,addresses:m,balances:l});case 8:return f=e.sent,e.abrupt("return",f);case 10:return e.next=12,n("estimateGasForPerTokenTransfer",{tokenAddress:c,addresses:m,balances:l});case 12:return h=e.sent,e.abrupt("return",h);case 16:if(e.prev=16,e.t0=e.catch(2),"0x0000000000000000000000000000000000000000"!=c&&"410000000000000000000000000000000000000000"!=c){e.next=20;break}return e.abrupt("return",17850);case 20:return e.abrupt("return",-1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])}))),function(e,t){return y.apply(this,arguments)}),estimateBulksendSize:(w=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,t.rootGetters,c=t.dispatch,t.commit,o=r.tokenAddress,d=r.testAddresses,m=r.testBalances,e.prev=2,"0x0000000000000000000000000000000000000000"!=o){e.next=5;break}return e.abrupt("return",n.etherBatchSize);case 5:return l=d,f=m,e.next=9,c("estimateGasForPerTransfer",{tokenAddress:o,addresses:l,balances:f});case 9:return h=e.sent,S=parseInt(n.maxGasUsed/parseFloat(h)),n.simple,e.abrupt("return",S);case 15:return e.prev=15,e.t0=e.catch(2),console.info(e.t0),e.abrupt("return",0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return w.apply(this,arguments)}),estimateGasForPerTokenTransfer:(j=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,l=r.tokenAddress,f=r.addresses,h=r.balances,S=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var x=Object(Z.a)(regeneratorRuntime.mark((function x(k){var T,v,E,O,R,_,j,w,y,A,I,D,C,F,N,G,P,U,L,B,H,V,K;return regeneratorRuntime.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return T=k.retryAttempt,v=void 0===T?0:T,v++,x.prev=2,E=!0,O=o.metamask.ethAccount,(R=o.token).allowance,_=R.tokenSelected,x.next=8,c.bulksenderInstance();case 8:return x.sent,j=n.bulksenderAddress,w=_.decimals,y=Object(ne.a)("0"),I=[],(A=f).forEach((function(e,t){var r=h[t],n=Object(ne.a)(r).times(Object(ne.a)(10).pow(w));I.push(n.toString(10)),y=y.plus(n)})),D=y.toString(10),x.next=18,d("createNewUniqueId");case 18:return C=x.sent,F=[j],N=[D],console.info("Use simple",E),G=[{type:"address",value:l},{type:"address[]",value:F},{type:"uint256[]",value:N},{type:"bytes32",value:C}],P={},U="","number"!=typeof l||isNaN(l)?(P={callValue:c.txFee,feeLimit:n.feeLimit},U="bulksendTokenSimple(address,address[],uint256[],bytes32)"):(G=[{type:"uint256",value:l},{type:"address[]",value:F},{type:"uint256[]",value:N},{type:"bytes32",value:C}],P={callValue:c.txFee,feeLimit:n.feeLimit,tokenId:l,tokenValue:D},U="bulksendTRC10(uint256,address[],uint256[],bytes32)"),x.next=30,tronWeb.transactionBuilder.triggerConstantContract(j,U,P,G,O);case 30:return L=x.sent,B=L.energy_used,m("SET_BASE_CALLING_GAS",B),F=F.concat(A),N=N.concat(I),G=[{type:"address",value:l},{type:"address[]",value:F},{type:"uint256[]",value:N},{type:"bytes32",value:C}],x.next=38,tronWeb.transactionBuilder.triggerConstantContract(j,U,P,G,O);case 38:if(H=x.sent,V=H.energy_used,0!=B&&0!=V){x.next=42;break}throw Error("EstimateGasForPerTransfer failed");case 42:K=parseInt((V-B)/parseFloat(f.length)),m("SET_SIMPLE",E),e(K),x.next=51;break;case 48:x.prev=48,x.t0=x.catch(2),v>=S?t(x.t0):r({retryAttempt:v});case 51:case"end":return x.stop()}}),x,null,[[2,48]])})));return function(e){return x.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return j.apply(this,arguments)}),estimateGasForPerEtherTransfer1:(_=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,r.tokenAddress,l=r.addresses,f=r.balances,h=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var S=Object(Z.a)(regeneratorRuntime.mark((function S(x){var k,T,v,E,O,R,_,j,w,y,A,I,D,C,F,N,G,P,U,L,B,H,V;return regeneratorRuntime.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return k=x.retryAttempt,T=void 0===k?0:k,T++,S.prev=2,v=o.metamask.ethAccount,(E=o.token).allowance,O=E.tokenSelected,S.next=7,c.bulksenderInstance();case 7:return S.sent,R=n.bulksenderAddress,_=O.decimals,j=Object(ne.a)("0"),y=[],(w=l).forEach((function(e,t){var r=f[t],n=Object(ne.a)(r).times(Object(ne.a)(10).pow(_));y.push(n.toString(10)),j=j.plus(n)})),A=j.toString(10),S.next=17,d("createNewUniqueId");case 17:return I=S.sent,D=[R],C=[A],F=j.plus(Object(ne.a)(c.txFee)).toString(10),console.info(F,D,C,R),N=[{type:"address[]",value:D},{type:"uint256[]",value:C},{type:"bytes32",value:I}],G={callValue:F,feeLimit:n.feeLimit},P="bulksendEther(address[],uint256[],bytes32)",S.next=27,tronWeb.transactionBuilder.triggerConstantContract(R,P,G,N,v);case 27:return U=S.sent,L=U.energy_used,console.info("baseGas",L),m("SET_BASE_CALLING_GAS",L),D=D.concat(w),C=C.concat(y),N=[{type:"address[]",value:D},{type:"uint256[]",value:C},{type:"bytes32",value:I}],S.next=36,tronWeb.transactionBuilder.triggerConstantContract(R,P,G,N,v);case 36:if(B=S.sent,H=B.energy_used,console.info("gasTopTestingAddresses",H),0!=L&&0!=H){S.next=41;break}throw Error("EstimateGasForPerTransfer failed");case 41:V=parseInt((H-L)/parseFloat(l.length)),console.info("GasCost of each transfer",V),e(V),S.next=50;break;case 47:S.prev=47,S.t0=S.catch(2),T>=h?t(S.t0):r({retryAttempt:T});case 50:case"end":return S.stop()}}),S,null,[[2,47]])})));return function(e){return S.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)}),estimateGasForPerEtherTransfer:(R=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,r.tokenAddress,l=r.addresses,f=r.balances,h=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var S=Object(Z.a)(regeneratorRuntime.mark((function S(x){var k,T,v,E,O,R,_,j,w,y,A,I,D,C,F,N,G;return regeneratorRuntime.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return k=x.retryAttempt,T=void 0===k?1:k,T++,S.prev=2,v=o.metamask,E=v.ethAccount,v.netId,S.next=6,c.bulksenderInstance();case 6:return S.sent,O=n.bulksenderAddress,S.next=10,d("createNewUniqueId");case 10:return R=S.sent,_=o.token.tokenSelected,j=_.decimals,w=Object(ne.a)("0"),y=[],f.forEach((function(e){var t=Object(ne.a)(e).times(Object(ne.a)(10).pow(parseInt(j)));w=w.plus(t),y.push(t.toString(10))})),A=w.toString(10),y.unshift(A),(I=[].concat(l)).unshift(O),D=w.plus(Object(ne.a)(c.txFee)).toString(10),C=[{type:"address[]",value:I},{type:"uint256[]",value:y},{type:"bytes32",value:R}],F={callValue:D,feeLimit:n.feeLimit},S.next=26,tronWeb.transactionBuilder.triggerConstantContract(O,"bulksendEther(address[],uint256[],bytes32)",F,C,E);case 26:N=S.sent,G=N.energy_used,console.info("baseGas",G),e(17850),S.next=35;break;case 32:S.prev=32,S.t0=S.catch(2),T>=h||402==S.t0.code||"Confirmation declined by user"==S.t0?(m("ADD_FAILED_TXS",""),402==S.t0.code||"Confirmation declined by user"==S.t0?e("User denied transaction signature."):t(S.t0)):r({retryAttempt:T});case 35:case"end":return S.stop()}}),S,null,[[2,32]])})));return function(e){return S.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return R.apply(this,arguments)}),sendBulksenderByPrivateKey:(O=Object(Z.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.rootGetters,t.rootState,t.dispatch,t.commit;case 1:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)}),_sendTxFeeToDelegater:(E=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.getters,t.rootGetters,n=t.rootState,c=t.dispatch,t.commit,o=r.checkSimpleTimes,d=n.bulksender.burnerKey,e.abrupt("return",new Promise((function(e,t){var m=function(){var l=Object(Z.a)(regeneratorRuntime.mark((function l(f){var h,S,x,k,T,v,E,O,R,_;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return h=f.retryAttempt,S=void 0===h?1:h,S++,l.prev=2,x=r.gasPrice,k=n.metamask.ethAccount,T=n.common.estimateETHCost,v=n.common.addressInfo,E=Object(ne.a)(r.delegaterExtraGas).times(Object(ne.a)(v.batches.length)).times(Object(ne.a)(r.gasPrice)).times(Object(ne.a)(10).pow(9)),O=Object(ne.a)(T).times(Object(ne.a)(10).pow(18)).plus(E).toString(10),R={method:"eth_sendTransaction",params:[{from:k,to:d.address,gas:Object(te.numberToHex)(21e3),gasPrice:Object(te.toHex)(Object(te.toWei)(x.toString(),"gwei")),value:Object(te.toHex)(O)}],from:k},l.next=12,c("metamask/sendAsync",R,{root:!0});case 12:_=l.sent,e(_),l.next=19;break;case 16:l.prev=16,l.t0=l.catch(2),S>=o||402==l.t0.code?t(l.t0):m({retryAttempt:S});case 19:case"end":return l.stop()}}),l,null,[[2,16]])})));return function(e){return l.apply(this,arguments)}}();m({})})));case 4:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)}),_sendRemainTxFeeBack:(v=Object(Z.a)(regeneratorRuntime.mark((function t(r){var n,c,o,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.state,r.getters,r.rootGetters,c=r.rootState,o=r.dispatch,r.commit,n.checkSimpleTimes,c.bulksender.burnerKey,d=c.metamask.ethAccount,t.abrupt("return",new Promise((function(t,r){var c=function(){var r=Object(Z.a)(regeneratorRuntime.mark((function r(m){var l,f,h,S,x,k,T,v,E,O,R,_,j,w,y,A;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=m.retryAttempt,f=void 0===l?1:l,f++,r.prev=2,h=n.burnerKey,S=n.gasPrice,x={method:"eth_getBalance",params:[h.address,"latest"]},r.next=8,o("metamask/sendAsync",x,{root:!0});case 8:return k=r.sent,k=Object(te.hexToNumberString)(k),console.info(k),T=Object(ne.a)(k).minus(Object(ne.a)(21e3).times(Object(ne.a)(S)).times(Object(ne.a)(10).pow(9))).toString(10),v={method:"eth_getTransactionCount",params:[h.address,"pending"]},r.next=15,o("metamask/sendAsync",v,{root:!0});case 15:return E=r.sent,O=e.from(h.privateKey.replace("0x",""),"hex"),R={nonce:E,gasPrice:Object(te.toHex)(Object(te.toWei)(n.gasPrice.toString(),"gwei")),gasLimit:Object(te.numberToHex)(21e3),to:d,value:Object(te.toHex)(T)},(_=new se(R)).sign(O),j=_.serialize(),w="0x"+j.toString("hex"),y={method:"eth_sendRawTransaction",params:[w]},r.next=25,o("metamask/sendAsync",y,{root:!0});case 25:A=r.sent,t(A),r.next=32;break;case 29:r.prev=29,r.t0=r.catch(2),c({retryAttempt:f});case 32:case"end":return r.stop()}}),r,null,[[2,29]])})));return function(e){return r.apply(this,arguments)}}();c({})})));case 5:case"end":return t.stop()}}),t)}))),function(e){return v.apply(this,arguments)}),sendTxFeeToDelegater:(T=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,r=t.dispatch,n=t.commit,e.next=3,r("_sendTxFeeToDelegater",{});case 3:return c=e.sent,n("SET_DELEGATE_TX_URL",c),n("SET_DELEGATE_TX_STATUS",0),r("checkDelegaterFeeTransactionStatus",{txHash:c}),r("common/saveUsedDelegater",{usedDelegater:!0},{root:!0}),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)}),sendRemainTxFeeBack:(k=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,r=t.dispatch,n=t.commit,e.next=3,r("_sendRemainTxFeeBack",{});case 3:return c=e.sent,n("SET_REMAIN_TX_URL",c),n("SET_REMAIN_TX_STATUS",0),r("checkRemainTransactionStatus",{txHash:c}),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)}),sendRawTransactionWithCustomRPC:(x=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.initialize("TB7wXKnjyxjyUQ9sdKRFaL1UacsKb2N89m").send();case 6:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),getBalance:(S=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.getBalance("410000000000000000000000000000000000000000",1e6).send();case 6:case"end":return e.stop()}}),e)}))),function(e){return S.apply(this,arguments)}),setTxFee:(h=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.setTxFee(3*Math.pow(10,6)).send();case 6:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),setVIPFee:(f=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.setVIPFee(3*Math.pow(10,9)).send();case 6:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)}),signKey:(l=Object(Z.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,S,x,data,k,T,v,E,s,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,r=t.rootState,n=t.dispatch,c=t.commit,o=r.bulksender,d=o.bulksenderAddress,m=o.burnerKey,l=r.metamask,f=l.netId,h=l.ethAccount,S=parseInt((new Date).getTime()/1e3)+604800,x={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Agent:[{name:"delegater",type:"address"},{name:"expiration",type:"uint256"}]},primaryType:"Agent",domain:{name:"Token Bulksender",version:"1",chainId:f,verifyingContract:d},message:{delegater:m.address,expiration:S}},data=JSON.stringify(x),k={method:"eth_signTypedData_v3",params:[h,data],from:h},e.next=9,n("metamask/sendAsync",k,{root:!0});case 9:return T=e.sent,v=T.substring(2),E="0x"+v.substring(0,64),s="0x"+v.substring(64,128),O=parseInt(v.substring(128,130),16),c("SET_BURNER",[m.address,S]),c("SET_BURNER_SSINATURE",{v:O,r:E,s:s}),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)}),checkBulksenderTransactionStatus:(m=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.uniqueId,m=r.txHash,l=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,e.next=6,tronWeb.trx.getTransaction(m);case 6:f=e.sent,console.info(f),h=0,Array.isArray(f.ret)?("SUCCESS"==f.ret[0].contractRet?(h=1,o("ADD_SUCCESS_TXS",m)):(h=-2,o("ADD_FAILED_TXS",m)),c("common/updateBulkSentStatus",{status:h,txHash:m,uniqueId:d},{root:!0})):setTimeout((function(){c("checkBulksenderTransactionStatus",{uniqueId:d,txHash:m})}),1e3*l),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.info("checking error",e.t0),c("checkBulksenderTransactionStatus",{uniqueId:d,txHash:m});case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),function(e,t){return m.apply(this,arguments)}),checkBulksenderVIPBuyingTransactionStatus:(d=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,tronWeb.trx.getTransaction(d);case 7:l=e.sent,console.info(l),Array.isArray(l.ret)?"SUCCESS"==l.ret[0].contractRet?o("SET_IS_VIP",!0):o("SET_IS_VIP",!1):setTimeout((function(){c("checkBulksenderVIPBuyingTransactionStatus",{txHash:d})}),1e3*m),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkBulksenderVIPBuyingTransactionStatus")}),1e3*m);case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return d.apply(this,arguments)}),checkDelegaterFeeTransactionStatus:(o=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,c("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(l=e.sent)?(f=l.status,o("SET_DELEGATE_TX_STATUS",f="0x1"==f||1==f?1:-2)):setTimeout((function(){c("checkDelegaterFeeTransactionStatus",{txHash:d})}),1e3*m),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkDelegaterFeeTransactionStatus")}),1e3*m);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return o.apply(this,arguments)}),checkRemainTransactionStatus:(c=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,c("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(l=e.sent)?(f=l.status,o("SET_REMAIN_TX_STATUS",f="0x1"==f||1==f?1:-2)):setTimeout((function(){c("checkRemainTransactionStatus",{txHash:d})}),1e3*m),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkRemainTransactionStatus")}),1e3*m);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return c.apply(this,arguments)}),getTransactionCount:(n=Object(Z.a)(regeneratorRuntime.mark((function e(t,r){var n,address,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,n=t.dispatch,t.commit,address=r.address,e.next=4,n("metamask/getTransactionCount",{address:address},{root:!0});case 4:return c=e.sent,c=Object(te.hexToNumberString)(c),e.abrupt("return",parseInt(c));case 7:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})};t.default={namespaced:!0,state:function(){var e;return e={bulksenderAddress:"",txFee:1e8,isVIP:!1,vipFee:3e10,addressUrl:"",txUrl:"",maxGasUsed:80*Math.pow(10,4)*1,maxBlockByteSizeKB:28,gasPrice:10,transferTestingCount:5,etherBatchSize:220,simple:!0,checkSimpleTimes:4,transferTestingAmounts:[1,10,100,1e3,1e4,1e5,1e6,1e7]},Object(ee.a)(e,"etherBatchSize",220),Object(ee.a)(e,"estimateETHCost",.01),Object(ee.a)(e,"vipTxHash",""),Object(ee.a)(e,"vipTxStatus",-1),Object(ee.a)(e,"txs",[]),Object(ee.a)(e,"successTxs",[]),Object(ee.a)(e,"failedTxs",[]),Object(ee.a)(e,"burnerKey",{}),Object(ee.a)(e,"usedBurnerKey",!1),Object(ee.a)(e,"burner",[]),Object(ee.a)(e,"burnerSignature",Object(ee.a)({v:27,r:""},"v","")),Object(ee.a)(e,"delegaterTxUrl",""),Object(ee.a)(e,"remainTxUrl",""),Object(ee.a)(e,"delegaterTxStatus",-1),Object(ee.a)(e,"remainTxStatus",-1),Object(ee.a)(e,"baseCallingGas",3e4),Object(ee.a)(e,"delegaterExtraGas",5e4),Object(ee.a)(e,"commonExtraGas",1e7),Object(ee.a)(e,"commonExtraBandwithFeePerOne",1e5),Object(ee.a)(e,"commonExtraFee",2*Math.pow(10,6)),Object(ee.a)(e,"feeLimit",500*Math.pow(10,6)),Object(ee.a)(e,"extraFee",0),e},getters:ce,mutations:{SET_BULKSENDER_ADDRESS:function(e,address){e.bulksenderAddress=address},SET_TX_FEE:function(e,t){e.txFee=t},SET_VIP_FEE:function(e,t){e.vipFee=t},SET_IS_VIP:function(e,t){e.isVIP=t},SET_GAS_PRICE:function(e,t){e.gasPrice=t},SET_ADDRESS_URL:function(e,t){e.addressUrl=t},SET_TX_URL:function(e,t){e.txUrl=t},ADD_TX:function(e,t){e.txs.push(t)},ADD_SUCCESS_TXS:function(e,t){e.successTxs.push(t)},ADD_FAILED_TXS:function(e,t){e.failedTxs.push(t)},SET_SIMPLE:function(e,t){e.simple=t},SET_estimateCostPerTransfer:function(e,t){e.simple=t},SET_VIP_TX_HASH:function(e,t){e.vipTxHash=t},SET_VIP_TX_STATUS:function(e,t){e.vipTxStatus=t},SET_BURNER_KEY:function(e,t){e.burnerKey=t},SET_USED_BURNER_KEY:function(e,t){e.usedBurnerKey=t},SET_BURNER:function(e,t){e.burner=t},SET_BURNER_SSINATURE:function(e,t){e.burnerSignature=t},SET_DELEGATE_TX_URL:function(e,t){e.delegaterTxUrl=t},SET_REMAIN_TX_URL:function(e,t){e.remainTxUrl=t},SET_DELEGATE_TX_STATUS:function(e,t){e.delegaterTxStatus=t},SET_REMAIN_TX_STATUS:function(e,t){e.remainTxStatus=t},SET_EXTRA_FEE:function(e,t){e.extraFee=t},SET_BASE_CALLING_GAS:function(e,t){e.baseCallingGas=t},SET_MAX_GAS_USED:function(e,t){e.maxGasUsed=t},CLEAR:function(e){e.successTxs=[],e.failedTxs=[],e.txs=[],e.remainTxUrl="",e.delegaterTxUrl=""}},actions:oe}}.call(this,r(18).Buffer)},844:function(e,t,r){"use strict";r.r(t);r(845);var n,c,o,d,m,l,f,h,S,x,k,T,v,E,O,R,_,j,w,y,A,I,D,C,F,N,G,P,U,L,B,H,V,K,X,M,W=r(155),Y=(r(852),r(325),r(214),r(855),r(98),r(83),r(299),r(124),r(178),r(179),r(69),r(68),r(3)),z=r(9),J=r(503),Q=r(37),$=r(13),Z=r(342),ee=r.n(Z),te={step:function(e){return e.step},headerClosed:function(e){return e.headerClosed},language:function(e){return e.language},translationWord:function(e){return J.a[e.language]},addressInfo:function(e){return e.addressInfo}},re=(n={updateContructIndex:function(e,t){e.dispatch;(0,e.commit)("SET_CONTRUCT_INDEX",t.contructTxIndex)},updateCheckingFrom:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_FROM",t.checkingFrom)},updateCheckingTo:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_TO",t.checkingTo)},updateIsMobile:function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)}},Object(z.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object(z.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object(z.a)(n,"updateStep",(function(e,t){e.dispatch;(0,e.commit)("SET_STEP",t.step)})),Object(z.a)(n,"setSendLoading",(function(e,t){e.dispatch;(0,e.commit)("SET_SEND_LOADING",t.loading)})),Object(z.a)(n,"setSendingIndex",(function(e,t){e.dispatch;(0,e.commit)("SET_SENDING_INDEX",t.sendingIndex)})),Object(z.a)(n,"setCode",(function(e,t){e.dispatch;(0,e.commit)("SET_CODE",t.code)})),Object(z.a)(n,"setInputType",(function(e,t){e.dispatch;(0,e.commit)("SET_INPUT_TYPE",t.type)})),Object(z.a)(n,"setHeaderClosed",(function(e,t){e.dispatch;(0,e.commit)("SET_HEADER_CLOSED",t.closed)})),Object(z.a)(n,"updateLanguage",(function(e,t){e.dispatch;(0,e.commit)("SET_LANGUAGE",t.language)})),Object(z.a)(n,"updateLanguage",(function(e,t){e.dispatch;(0,e.commit)("SET_LANGUAGE",t.language)})),Object(z.a)(n,"updateLanguage",(function(e,t){e.dispatch;var r=e.commit,n=t.language;try{r("SET_LANGUAGE",n),localStorage.language=n}catch(e){}})),Object(z.a)(n,"saveAddressesInsertWay",(M=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,c=r.addressesInsertWay;try{n("SET_ADDRESSES_INSERT_WAY",c),localStorage.addressesInsertWay=c}catch(e){}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return M.apply(this,arguments)})),Object(z.a)(n,"getCachedLanguage",(X=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=void 0;try{r=localStorage.language}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return X.apply(this,arguments)})),Object(z.a)(n,"getAddressesInsertWay",(K=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=0;try{r=localStorage.addressesInsertWay}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return K.apply(this,arguments)})),Object(z.a)(n,"syncUserLastUsedLocalCaches",(V=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,e.next=3,r("getAddressesInsertWay");case 3:c=e.sent,n("SET_ADDRESSES_INSERT_WAY",c);case 5:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)})),Object(z.a)(n,"initBulksender",(H=Object(Y.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return H.apply(this,arguments)})),Object(z.a)(n,"updateCurrentRouter",(B=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,c=r.currentRouter,n("SET_CURRENT_ROUTER",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)})),Object(z.a)(n,"clearUsedParams",(L=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,r("bulksender/clearUsedParams",{},{root:!0}),r("token/clearUsedParams",{},{root:!0}),n("SET_CHECKING_ADDRESS_FROM",0),n("SET_CHECKING_ADDRESS_TO",1e3),n("SET_CONTRUCT_INDEX",0);case 6:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)})),Object(z.a)(n,"initBaseParams",(U=Object(Y.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return U.apply(this,arguments)})),Object(z.a)(n,"getNetIdStorage",(P=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,r=t.rootState,t.commit,t.state,n={};try{c=r.metamask.netId,null!=(o=localStorage.getItem("netId"+c))&&null!=o&&(n=JSON.parse(o))}catch(e){}return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)})),Object(z.a)(n,"updateNetIdStorage",(G=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,t.commit,n=t.rootState,t.state,c=r.netStorage;try{o=n.metamask.netId,localStorage.setItem("netId"+o,JSON.stringify(c))}catch(e){console.info(e)}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)})),Object(z.a)(n,"estimateTotalEtherCost",(N=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,S,x,k,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.rootGetters,c=t.dispatch,o=t.commit,d=t.state,m=r.token.tokenSelected,r.bulksender.gasPrice,e.next=5,n["bulksender/txFee"];case 5:l=e.sent,f=Object($.a)(d.addressInfo.totalFee),h=null==d.addressInfo.batches?0:d.addressInfo.batches.length,S=Object($.a)(l*h),x=f.plus(S),m.isETH&&(k=Object($.a)(d.addressInfo.finalAmount).times(Object($.a)(10).pow(6)),x=x.plus(k)),T=x.div(Object($.a)(10).pow(6)).toString(10),o("SET_ESTIMATED_ETH_COST",T),c("checkEtherEnough");case 15:case"end":return e.stop()}}),e)}))),function(e){return N.apply(this,arguments)})),Object(z.a)(n,"estimateExtraFee",(F=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,S,x,k,T,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.rootGetters,c=t.dispatch,t.commit,o=t.state,e.prev=1,d=n["metamask/networkConfig"],m=d.extraFeeOracle,d.supportExtraFee){e.next=5;break}throw Error("Not supported");case 5:if(0!=(l=r.metamask.ethPrice)){e.next=8;break}throw Error("Not supported");case 8:return f=Object($.a)(m.feeRate).div(Object($.a)(1e3)),h=r.token.price,r.token.tokenSelected.isETH&&(h=l),S=o.addressInfo.finalAmount,x=Object($.a)(S).times(Object($.a)(h)),k=null==o.addressInfo.batches?1:o.addressInfo.batches.length,T=Object($.a)(x.times(f).div(Object($.a)(l)).div(Object($.a)(k)).toFixed(0)),v=T.times(Object($.a)(10).pow(6)).toString(10),e.next=19,c("bulksender/setExtraFee",{extraFee:v},{root:!0});case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(1),e.next=25,c("bulksender/setExtraFee",{extraFee:0},{root:!0});case 25:return e.abrupt("return",0);case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),function(e){return F.apply(this,arguments)})),Object(z.a)(n,"checkEtherEnough",(C=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,t.rootGetters,t.dispatch,n=t.commit,c=t.state,o=r.metamask.balance,d=c.estimateETHCost,m=Object($.a)(o).gte(Object($.a)(d)),n("SET_ETHER_ENOUGH",m),e.abrupt("return",m);case 6:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})),Object(z.a)(n,"parseInsertAddresses",(D=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,n=t.dispatch,t.commit,c=r.insertedAddress,o=(o=c.replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,"")).split("\n"),e.next=6,n("checkInsertAddresses",{addresses:o});case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)})),Object(z.a)(n,"updateBulkSentStatus",(I=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,c=t.dispatch,o=t.commit,d=r.status,m=r.txHash,l=r.uniqueId,f=n.common.addressInfo,h=Object.assign({},f),S=h.batches,(x=Object.assign([],S)).some((function(e,t){var r=Object.assign({},e);if(e.uniqueId==l&&1!=r.status)return r.status=d,r.txHash=m,x.splice(t,1,r),!0})),h.batches=x,o("SET_ADDRESS_INFO",h),c("saveTxsToLocal",{status:d,txHash:m});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)})),Object(z.a)(n,"prepareBulksending",(A=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,address,l,f,h,S,x,k,T,v,E,O,R,_,j,w,y,A,I,D,C,F;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.state,c=t.dispatch,o=t.commit,d=r.token,m=d.allowanceEnough,address=d.address,d.tokenSelected,!m){e.next=4;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,d,m,N,G,P,U,L,B,H,V,K,X,M,W,Y,z,J,Z,ee,te,re;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=address,l="0x0000000000000000000000000000000000000000"==address||"410000000000000000000000000000000000000000"==t,d=r.common.addressInfo,m=r.bulksender,N=m.maxGasUsed,G=m.commonExtraBandwithFeePerOne,P=m.commonExtraFee,U=r.metamask.energyFee,L=Object.assign({},d),B=L.finalData,H=n.queryLimit,f=parseInt(Math.ceil(B.length/parseFloat(n.queryLimit))),V=[],K=[],X=regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S=h*H,x=H*(h+1),k=B.slice(S,x),T=[],k.forEach((function(e){T.push(e.address)})),o("SET_CHECKING_ADDRESS_FROM",S+1),x>B.length?(r=B.length,o("SET_CHECKING_ADDRESS_TO",r)):o("SET_CHECKING_ADDRESS_TO",x),console.info("Query balance",S+1,x),n=[],e.prev=9,e.next=12,c("token/bulkQueryBalances",{tokenAddress:t,addresses:T},{root:!0});case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),T.forEach((function(address,e){n.push(0)}));case 18:n.forEach((function(e,t){var r=k[t];try{e=Object(Q.hexToNumber)(e)}catch(e){}r.balance=e,e>0?V.push(r):K.push(r)}));case 19:case"end":return e.stop()}}),e,null,[[9,15]])})),h=0;case 13:if(!(h<f)){e.next=18;break}return e.delegateYield(X(),"t0",15);case 15:h++,e.next=13;break;case 18:if(console.info("Holders",V.length),console.info("Freshers",K.length),M=[],W=[],V.some((function(e,t){if(t==n.maxTestingCount)return!0;M.push(e.address),W.push(e.amount)})),Y=0,!M.length||!W.length){e.next=29;break}return e.next=27,c("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:M,testBalances:W},{root:!0});case 27:Y=e.sent,console.info("estimateCostPerTransferOfHolder",Y);case 29:if(-1==Y&&(Y=l?n.gasCost.trx:"number"!=typeof t||isNaN(t)?n.gasCost.trc20:n.gasCost.trc10),M=[],W=[],K.some((function(e,t){if(t==n.maxTestingCount)return!0;M.push(e.address),W.push(e.amount)})),z=0,!M.length||!W.length){e.next=40;break}return e.next=37,c("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:M,testBalances:W},{root:!0});case 37:z=e.sent,l&&(z*=2),console.info("estimateCostPerTransferOfFresher",z);case 40:-1==z&&(z=l?n.gasCost.trx:"number"!=typeof t||isNaN(t)?n.gasCost.trc20:n.gasCost.trc10),v=V.length,E=V.concat(K),O=[],R=[],J=E.length,Z=0,ee=0,te=Object($.a)(0),_=0,re=r.bulksender.baseCallingGas,h=0;case 52:if(!(h<J)){e.next=75;break}if(j=E[h],O.push(j),!((_+=h<v?Y:z)>=N-re||h==J-1)){e.next=72;break}return w=O[0].address,y=O[O.length-1].address,A=Date.parse(new Date)+Z,I=parseInt(100*Math.random()),D="".concat(Z,"-").concat(A,"-").concat(I),_+=re,C=(C=Object($.a)(_).div(Object($.a)(1).div(Object($.a)(U))).plus(Object($.a)(O.length).times(G))).plus(Object($.a)(P)),R.push({uniqueId:D,txHash:"",status:-1,firstAddress:w,index:Z,lastAddress:y,addressValues:O,count:O.length,estimateGas:_,estimatedFee:C.toString(10)}),ee+=_,te=te.plus(C),Z+=1,_=0,O=[],e.abrupt("continue",72);case 72:h++,e.next=52;break;case 75:return L.holders=V,L.freshers=K,L.batches=R,L.totalGas=ee,L.totalFee=te.toString(10),L.times=R.length,A=Date.parse(new Date),I=10*Math.random(),F="TASKID_"+A+"_"+I,L.taskID=F,o("SET_ADDRESS_INFO",L),e.next=88,c("estimateExtraFee");case 88:return e.next=90,c("estimateTotalEtherCost");case 90:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})),Object(z.a)(n,"saveTxsToLocal",(y=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,c=r.status,o=r.txHash,e.prev=2,64!=o.length){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:return d=e.sent,null!=(m=d.txs)&&null!=m||(m={}),m[o]=c,d.txs=m,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return y.apply(this,arguments)})),Object(z.a)(n,"updateTxStatusToLocal",(w=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,c=r.status,o=r.txHash,e.prev=2,64!=o.length){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:if(d=e.sent,null==(m=d.txs)||null==m||!m.hasOwnProperty(o)){e.next=13;break}return m[o]=c,d.txs=m,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return w.apply(this,arguments)})),Object(z.a)(n,"getLastTxs",(j=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return c=e.sent,e.abrupt("return",c.txs);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return j.apply(this,arguments)})),Object(z.a)(n,"getDelegater",(_=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:c=e.sent,null!=(n=c.delegater)&&null!=n||(n={}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return _.apply(this,arguments)})),Object(z.a)(n,"checkDelegater",(R=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getDelegater");case 4:if(n=e.sent,0!=Object.keys(n)){e.next=15;break}return e.next=8,r("bulksender/createBurnKey",{},{root:!0});case 8:return n=e.sent,e.next=11,r("getNetIdStorage",{});case 11:return(c=e.sent).delegater=n,e.next=15,r("updateNetIdStorage",{netStorage:c});case 15:return o=n,e.next=18,r("bulksender/saveBurnerKey",{burnerKey:o},{root:!0});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:case"end":return e.stop()}}),e,null,[[1,20]])}))),function(e){return R.apply(this,arguments)})),Object(z.a)(n,"clearLocalTxs",(O=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getNetIdStorage",{});case 4:return(n=e.sent).txs={},null!=n.delegater&&null!=n.usedDelegater&&1==n.usedDelegater&&(null==(c=n.trashDelegaters)&&(c=[]),c.push(n.delegater),n.trashDelegaters=c,n.delegater={},n.usedDelegater=!1),e.next=9,r("updateNetIdStorage",{netStorage:n});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e){return O.apply(this,arguments)})),Object(z.a)(n,"saveUsedDelegater",(E=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,c=r.usedDelegater,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(o=e.sent).usedDelegater=c,e.next=9,n("updateNetIdStorage",{netStorage:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return E.apply(this,arguments)})),Object(z.a)(n,"saveTrc10Tokens",(v=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,c=r.trc10Tokens,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(o=e.sent).trc10Tokens=c,e.next=9,n("updateNetIdStorage",{netStorage:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return v.apply(this,arguments)})),Object(z.a)(n,"getCachedTrc10Tokens",(T=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n=[],e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:c=e.sent,null!=(n=c.trc10Tokens)&&null!=n||(n=[]),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return T.apply(this,arguments)})),Object(z.a)(n,"checkLastTxs",(k=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.state,r=t.dispatch,n=t.commit,e.next=3,r("getLastTxs");case 3:if(null==(c=e.sent)||null==c){e.next=23;break}o=!1,e.t0=regeneratorRuntime.keys(c);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(64!=(d=e.t1.value).length||0!=c[d]){e.next=12;break}return o=!0,e.abrupt("break",14);case 12:e.next=7;break;case 14:if(!o){e.next=19;break}return n("SET_UNFINISHED_TXS",c),e.abrupt("return",c);case 19:return e.next=21,r("clearLocalTxs");case 21:return n("SET_UNFINISHED_TXS",{}),e.abrupt("return",{});case 23:return e.abrupt("return",{});case 24:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})),Object(z.a)(n,"checkContractsError",(x=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,S,x,k,T,v,E,O,R,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,c=t.commit,t.rootGetters,o=t.dispatch,d=n.common.addressInfo,m=Object.assign({},d),l=m.validData,f=r.queryLimit,h=parseInt(Math.ceil(l.length/parseFloat(r.queryLimit))),S=[],x=[],k=Object($.a)(d.validAmount),T=[],v=0;case 11:if(!(v<h)){e.next=25;break}return E=v*f,O=f*(v+1),R=l.slice(E,O),_=[],R.forEach((function(e,t){_.push(e.address)})),e.next=19,o("token/checkAddressIsContract",{addresses:_},{root:!0});case 19:e.sent.forEach((function(address,e){var t=R[e],r=E+e;if("0x0000000000000000000000000000000000000000"!=address&&"410000000000000000000000000000000000000000"!=address){S.push({index:r,address:t.address,errorType:3}),x.push(r);var n=Object($.a)(t.amount);k=k.minus(n)}else T.push(t)}));case 22:v++,e.next=11;break;case 25:if(!(x.length>0)){e.next=32;break}return m.validData=T,m.validAmount=k.toString(10),m.invalidAddressesIndexes=x,m.invalidAddresses=S,c("SET_ADDRESS_INFO",m),e.abrupt("return",!0);case 32:return e.abrupt("return",!1);case 33:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)})),Object(z.a)(n,"checkInsertAddresses",(S=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,S,x,k,T,v,E,O,R,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,o=t.rootGetters,d=r.addresses,m=n.token.tokenSelected,l=18,null!=m&&(l=m.decimals),f=new Set,h=[],S=new Set,x=[],k=Object($.a)(0),T=Object($.a)(0),v=[],E=[],O=[],R=[],e.next=17,o["metamask/tronWeb"]();case 17:_=e.sent,d.forEach((function(e,t){var r=e.split(",");r.length<2&&(r=e.split("，"));var address=r[0].replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,""),n=r[1],c=!0,o=!1;if(!_.isAddress(address)||"0x0000000000000000000000000000000000000000"==address.toLowerCase()||isNaN(n)||!isNaN(n)&&Number(n)<=0){var d=0;(isNaN(n)||Number(n)<=0)&&(d=1,_.isAddress(address)||(d=2)),S.add({index:t,address:address,errorType:d}),x.push(t),c=!1}else{var m=!1,j=n.toString().split(".");if(j.length>1&&j[1].length>l&&(m=!0),m)d=4,S.add({index:t,address:address,errorType:d}),x.push(t),c=!1;else{var w=Object($.a)(n);n=w.toString(10),T=T.plus(w),v.push({address:address,amount:n,amountStr:w.toString(10)}),-1==R.indexOf(address)?(R.push(address),E.push({address:address,amount:n,amountStr:w.toString(10)}),k=k.plus(w)):(o=!0,f.add(address),h.push(t))}}var y=n;try{y=Object($.a)(n).toString(10)}catch(e){}O.push({address:address,amount:n,amountStr:y,valid:c,duplicated:o})})),k=k.toString(10),T=T.toString(10),f=Array.from(f),S=Array.from(S),c("SET_ADDRESS_INFO",{validAmount:T,nonDuplicatedAmount:k,originalData:O,originalAddressStr:d,duplicatedAddresses:f,duplicatedAddressesIndexes:h,invalidAddresses:S,invalidAddressesIndexes:x,validData:v,nonDuplicatedData:E,finalData:O,finalAmount:k});case 25:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)})),Object(z.a)(n,"combineBalances",(h=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,t.dispatch,t.state,Object(W.a)(r),o=[],d=n.common.addressInfo,(m=Object.assign({},d)).validData.forEach((function(e){this[e.address]||(this[e.address]={address:e.address,amount:Object($.a)(0)},o.push(this[e.address]));var t=Object($.a)(e.amount),r=Object($.a)(this[e.address].amount);this[e.address].amount=r.plus(t).toString(10),this[e.address].amountStr=r.plus(t).toString(10)}),Object.create(null)),m.combinedData=o,m.finalData=o,m.finalAmount=d.validAmount,m.invalidAddressesIndexes=[],m.invalidAddresses=[],m.duplicatedAddressesIndexes=[],m.duplicatedAddresses=[],c("SET_ADDRESS_INFO",m),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})),Object(z.a)(n,"keepFirstOne",(f=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,t.dispatch,t.state,Object(W.a)(r),o=n.common.addressInfo,(d=Object.assign({},o)).finalData=o.nonDuplicatedData,d.finalAmount=o.nonDuplicatedAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],c("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})),Object(z.a)(n,"deleteInvalidAddresses",(l=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,t.dispatch,t.state,Object(W.a)(r),o=n.common.addressInfo,d=Object.assign({},o),m=d.validData,d.duplicatedAddressesIndexes.length>0&&(l=[],f=[],m.forEach((function(e,t){-1!=l.indexOf(e.address)?f.push(t):l.push(e.address)})),d.duplicatedAddressesIndexes=f),d.finalData=m,d.finalAmount=o.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],c("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})),Object(z.a)(n,"readFileAsync",(m=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,t.dispatch,t.state,n=r.fileData,c=n,e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){for(var t="",n=new Uint8Array(r.result),c=n.byteLength,i=0;i<c;i++)t+=String.fromCharCode(n[i]);var o=ee.a.read(t,{type:"binary"}),d=o.SheetNames[0],m=o.Sheets[d],data=ee.a.utils.sheet_to_csv(m);e(data)},r.onerror=t,r.readAsArrayBuffer(c)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})),Object(z.a)(n,"parseFile",(d=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,n=t.dispatch,t.rootGetters,t.state,c=r.fileData,e.prev=2,e.next=5,n("readFileAsync",{fileData:c});case 5:return o=e.sent,e.next=8,n("parseInsertAddresses",{insertedAddress:o});case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(2),console.info(e.t0),e.next=16,n("uploadFile",{fileData:c});case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return d.apply(this,arguments)})),Object(z.a)(n,"uploadFile",(o=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,data,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,t.commit,c=t.dispatch,t.rootGetters,t.state,o=r.fileData,n.metamask.netId,e.prev=3,(data=new FormData).append("file",o),d=new Request("http://127.0.0.1:5000/upload",{method:"POST",body:data}),e.next=10,fetch(d);case 10:if(200!==(m=e.sent).status){e.next=26;break}return e.next=14,m.json();case 14:if(0!=(l=e.sent).code&&!l.success){e.next=22;break}return f=l.data,e.next=19,c("checkInsertAddresses",{addresses:f});case 19:return e.abrupt("return",!0);case 22:throw Error("Upload file failed");case 24:e.next=28;break;case 26:throw Error("Upload file failed");case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])}))),function(e,t){return o.apply(this,arguments)})),Object(z.a)(n,"checkUnfinishedTransactionStatus",(c=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,t.commit,o=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(o),e.next=7,tronWeb.trx.getTransaction(o);case 7:if(m=e.sent,console.info(m),l=0,!Array.isArray(m.ret)){e.next=18;break}return l="SUCCESS"==m.ret[0].contractRet?1:-2,e.next=14,c("updateTxStatusToLocal",{status:l,txHash:o});case 14:return e.next=16,c("checkLastTxs",{});case 16:e.next=19;break;case 18:setTimeout((function(){c("checkUnfinishedTransactionStatus",{txHash:o})}),1e3*d);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkUnfinishedTransactionStatus")}),1e3*d);case 25:case"end":return e.stop()}}),e,null,[[3,21]])}))),function(e,t){return c.apply(this,arguments)})),n);t.default={namespaced:!0,state:function(){var e;return e={step:1,language:"EN",headerClosed:!1,translationWord:{},inputType:0,addressesInsertWay:0,code:"",estimateETHCost:0,etherEnough:!0,queryLimit:100,maxTestingCount:5,estimateCostPerTransferOfFresher:4e4,estimateCostPerTransferOfHolder:25e3,estimateCostPerTransferFixed:27e4},Object(z.a)(e,"estimateCostPerTransferFixed",27e4),Object(z.a)(e,"sendLoading",!1),Object(z.a)(e,"sendingIndex",0),Object(z.a)(e,"unFinishedTxs",{}),Object(z.a)(e,"currentRouter",null),Object(z.a)(e,"checkingAddressFrom",0),Object(z.a)(e,"checkingAddressTo",1e3),Object(z.a)(e,"contructTxIndex",0),Object(z.a)(e,"isMobile",!1),Object(z.a)(e,"gasCost",{trc10:35700,trc20:71400,trx:35700}),Object(z.a)(e,"addressInfo",{taskID:"",nonAmount:0,validAmount:0,nonDuplicatedAmount:0,originalData:[],originalAddressStr:[],duplicatedAddresses:[],duplicatedAddressesIndexes:[],invalidAddresses:[],invalidAddressesIndexes:[],validData:[],combinedData:[],nonDuplicatedData:[],finalData:[],finalAmount:0,batches:[],times:1,batchSize:100,holders:[],freshers:[],estimateGasUsed:0}),e},getters:te,mutations:{SET_STEP:function(e,t){e.step=t},SET_INPUT_TYPE:function(e,t){e.inputType=t},SET_CODE:function(e,code){e.code=code},SET_HEADER_CLOSED:function(e,t){e.headerClosed=t},SET_LANGUAGE:function(e,t){e.language=t},SET_ORIGIN_INPUT_DATA:function(e,t){e.originInputData=t},SET_ADDRESS_INFO:function(e,t){e.addressInfo=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_FRESHER:function(e,t){e.estimateCostPerTransferOfFresher=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_HOLDER:function(e,t){e.estimateCostPerTransferOfHolder=t},SET_SEND_LOADING:function(e,t){e.sendLoading=t},SET_ESTIMATED_ETH_COST:function(e,t){e.estimateETHCost=t},SET_ETHER_ENOUGH:function(e,t){e.etherEnough=t},SET_ADDRESSES_INSERT_WAY:function(e,t){e.addressesInsertWay=t},SET_SENDING_INDEX:function(e,t){e.sendingIndex=t},SET_UNFINISHED_TXS:function(e,t){e.unFinishedTxs=t},SET_CURRENT_ROUTER:function(e,t){e.currentRouter=t},SET_IS_MOBILE:function(e,t){e.isMobile=t},SET_CONTRUCT_INDEX:function(e,t){e.contructTxIndex=t},SET_CHECKING_ADDRESS_FROM:function(e,t){e.checkingAddressFrom=t},SET_CHECKING_ADDRESS_TO:function(e,t){e.checkingAddressTo=t}},actions:re}}},[[1136,97,87,88,86,90,89,78,54,47,75,72,0,20,48,58,8,21,35,9,51,18,73,42,22,79,59,2,85,36,19,32,28,11,6,31,46,24,16,39,65,33,55,12,77,45,69,80,64,27,14,53,61,70,41,38,37,29,25,74,62,68,13,83,57,60,63,44,40,76,7,43,4,67,52,71,1,50,30,81,49,84,15,23,3,26,56,34,5,82,10,17]]]);