(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{602:function(e,t,r){"use strict";r.r(t),function(e){r(124);var n,c,o,d,m,l,f,h,x,S,k,v,T,E,O,R,_,y,w,j,A,I,D,C,F,N,G,P,U,L,B,H,V,K,W,X,M,Y,z,J,Q,$,Z=r(155),ee=(r(68),r(2)),te=(r(178),r(179),r(69),r(9)),re=r(28),ne=(r(615),r(156)),ae=r(13),se=r(303),ce=r(828),oe={dappFee:function(e){return e.isVIP?0:tronWeb.fromSun(e.txFee,"ether")},txFee:function(e){if(e.isVIP)return 0;try{return Object(ae.a)(e.extraFee).gt(Object(ae.a)(e.txFee))?Object(ae.a)(e.extraFee).toString(10):e.txFee}catch(t){return e.txFee}},vipFee:function(e){return tronWeb.fromSun(e.vipFee,"ether")},bulksenderInstance:function(e,t,r,n){return Object(ee.a)(regeneratorRuntime.mark((function e(){var t,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.metamask,t.ethAccount,c=t.netId,o=ne.a["netId".concat(c)].bulksenderContract,e.next=4,n["metamask/tronWeb"]();case 4:return d=e.sent,e.next=7,d.contract().at(o);case 7:return m=e.sent,e.abrupt("return",m);case 9:case"end":return e.stop()}}),e)})))}},ue={setUsedBurnerKey:($=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.usedBurnerKey,n("SET_USED_BURNER_KEY",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return $.apply(this,arguments)}),setGasPrice:(Q=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.gasPrice,n("SET_GAS_PRICE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return Q.apply(this,arguments)}),setExtraFee:(J=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.extraFee,n("SET_EXTRA_FEE",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return J.apply(this,arguments)}),createNewAddress:(z=Object(ee.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,e.abrupt("return",(new se).create());case 2:case"end":return e.stop()}}),e)}))),function(e){return z.apply(this,arguments)}),saveBurnerKey:(Y=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,n=t.commit,c=r.burnerKey,n("SET_BURNER_KEY",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return Y.apply(this,arguments)}),createBurnKey:(M=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.state,t.getters,n=t.commit,e.next=3,r("createNewAddress");case 3:return c=e.sent,n("SET_BURNER_KEY",c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)}),createNewUniqueId:(X=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r=Date.parse(new Date),n=10*Math.random(),e.next=5,tronWeb.sha3(r+"_"+n);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)}))),function(e){return X.apply(this,arguments)}),formatUniqueId:(W=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,n=r.uniqueId,e.next=4,tronWeb.sha3(n);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return W.apply(this,arguments)}),createNewUniqueId_V1:(K=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.commit,r.fromAddress,r.toAddress,n=Date.parse(new Date),c=10*Math.random(),e.abrupt("return",tronWeb.fromAscii(n+"_"+c));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)}),getBulksenderContractAddress:(V=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.commit,e.next=3,r.bulksenderInstance();case 3:c=e.sent,n("SET_BULKSENDER_ADDRESS",tronWeb.address.fromHex(c.address));case 5:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)}),clearUsedParams:(H=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.dispatch,r=t.commit,t.rootState,r("CLEAR");case 2:case"end":return e.stop()}}),e)}))),function(e){return H.apply(this,arguments)}),initBaseParams:(B=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,n=t.dispatch,c=t.commit,o=t.rootState,e.next=3,r.bulksenderInstance();case 3:d=e.sent,c("SET_BULKSENDER_ADDRESS",tronWeb.address.fromHex(d.address)),m=o.metamask,l=m.netId,f=m.gasPrice,h=m.maxCpuTimeOfOneTx,x=ne.a["netId".concat(l)].explorerUrl,c("SET_TX_URL",x.tx),c("SET_ADDRESS_URL",x.address),c("SET_GAS_PRICE",f.fast),c("SET_MAX_GAS_USED",h),n("getTxFee"),n("getVIPStatus"),n("getVIPFee");case 14:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)}),getTxFee:(L=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,r=t.commit,t.dispatch,n=t.getters,c=t.rootGetters,t.state,o=c["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var c=function(){var d=Object(ee.a)(regeneratorRuntime.mark((function d(m){var l,f,h,x;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return l=m.retryAttempt,f=void 0===l?1:l,f++,d.prev=2,d.next=5,n.bulksenderInstance();case 5:return h=d.sent,d.next=8,h.txFee().call();case 8:x=d.sent,x=Object(re.hexToNumberString)(x),r("SET_TX_FEE",x),console.log("Tx fee",x),e(x),d.next=18;break;case 15:d.prev=15,d.t0=d.catch(2),f>=o?t(d.t0):c({retryAttempt:f});case 18:case"end":return d.stop()}}),d,null,[[2,15]])})));return function(e){return d.apply(this,arguments)}}();c({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)}),getVIPFee:(U=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,t.dispatch,c=t.getters,o=t.rootGetters,t.state,d=o["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var o=function(){var m=Object(ee.a)(regeneratorRuntime.mark((function m(l){var f,h,x,S;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,m.prev=2,r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return x=m.sent,m.next=9,x.VIPFee().call();case 9:S=m.sent,S=Object(re.hexToNumberString)(S),n("SET_VIP_FEE",S),console.log("VIP fee",S),e(S),m.next=19;break;case 16:m.prev=16,m.t0=m.catch(2),h>=d?t(m.t0):o({retryAttempt:h});case 19:case"end":return m.stop()}}),m,null,[[2,16]])})));return function(e){return m.apply(this,arguments)}}();o({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return U.apply(this,arguments)}),getVIPStatus:(P=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.commit,t.dispatch,c=t.getters,o=t.rootGetters,t.state,d=o["metamask/networkConfig"].rpcCallRetryAttempt,e.abrupt("return",new Promise((function(e,t){var o=function(){var m=Object(ee.a)(regeneratorRuntime.mark((function m(l){var f,h,x,S,k;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,m.prev=2,x=r.metamask.ethAccount,m.next=6,c.bulksenderInstance();case 6:return S=m.sent,m.next=9,S.isVIP(x).call();case 9:k=m.sent,n("SET_IS_VIP",k),console.log("VIP Status",k),e(k),m.next=18;break;case 15:m.prev=15,m.t0=m.catch(2),h>=d?t(m.t0):o({retryAttempt:h});case 18:case"end":return m.stop()}}),m,null,[[2,15]])})));return function(e){return m.apply(this,arguments)}}();o({})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)}),buyVIP:(G=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,Object(Z.a)(r),e.next=4,n("_buyVIP",{});case 4:return o=e.sent,c("SET_VIP_TX_HASH",o),c("SET_VIP_TX_STATUS",0),n("checkBulksenderVIPBuyingTransactionStatus",{txHash:o}),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)}),_buyVIP:(N=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,t.dispatch,t.commit,Object(Z.a)(r),d=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var m=Object(ee.a)(regeneratorRuntime.mark((function m(l){var f,h,x,S;return regeneratorRuntime.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return f=l.retryAttempt,h=void 0===f?1:f,h++,m.prev=2,o.metamask.gasPrice.fast,o.metamask.ethAccount,m.next=7,c.bulksenderInstance();case 7:return x=m.sent,m.next=10,x.registerVIP().send({callValue:n.vipFee});case 10:S=m.sent,e(S),m.next=17;break;case 14:m.prev=14,m.t0=m.catch(2),h>=d||402==m.t0.code?t(m.t0):r({retryAttempt:h});case 17:case"end":return m.stop()}}),m,null,[[2,14]])})));return function(e){return m.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return N.apply(this,arguments)}),_bulksendTokenV1:(F=Object(ee.a)(regeneratorRuntime.mark((function t(r,n){var c,o,d,m,l,f,h,x,S,k,v,T,E,O,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.state,o=r.getters,d=r.rootState,r.rootGetters,m=r.dispatch,l=r.commit,f=n.uniqueId,h=n.tokenAddress,x=n.estimateGas,S=void 0===x?0:x,k=n.decimals,v=n.addresses,T=n.amounts,E=n.nonce,O=void 0===E?0:E,n.estimateFee,R=c.checkSimpleTimes,t.abrupt("return",new Promise((function(t,r){var n=function(){var x=Object(ee.a)(regeneratorRuntime.mark((function x(E){var _,y,w,j,A,I,D,C,F,N,data,G,P,U,L,B,H,s,V,K,W,X,M,Y,z,J,Q,$,Z,ee,te,ne,se;return regeneratorRuntime.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return _=E.retryAttempt,y=void 0===_?1:_,y++,x.prev=2,w=d.metamask.ethAccount,x.next=6,o.bulksenderInstance();case 6:return j=x.sent,A=c.bulksenderAddress,x.next=10,m("formatUniqueId",{uniqueId:f});case 10:if(I=x.sent,D=Object(ae.a)("0"),C=[],T.forEach((function(e){var t=Object(ae.a)(e).times(Object(ae.a)(10).pow(parseInt(k)));D=D.plus(t),C.push(t.toString(10))})),F=D.toString(10),C.unshift(F),(N=[].concat(v)).unshift(A),G=c.feeLimit,!c.usedBurnerKey){x.next=40;break}return P=c.burnerKey,U=c.burner,L=c.burnerSignature,B=L.v,H=L.r,s=L.s,data=j.methods.bulksendTokenForBurners(h,N,C,I,c.simple,U,B,H,s).encodeABI(),V=e.from(P.privateKey.replace("0x",""),"hex"),K={nonce:Object(re.numberToHex)(O),gasPrice:Object(re.toHex)(Object(re.toWei)(c.gasPrice.toString(),"gwei")),gasLimit:Object(re.numberToHex)(S+c.commonExtraGas+c.delegaterExtraGas),to:A,value:Object(re.toHex)(o.txFee),data:data},(W=new ce(K)).sign(V),X=W.serialize(),M="0x"+X.toString("hex"),Y={method:"eth_sendRawTransaction",params:[M]},x.next=36,m("metamask/sendAsync",Y,{root:!0});case 36:z=x.sent,t(z),x.next=64;break;case 40:return J="",Q=[{type:"address",value:h},{type:"address[]",value:N},{type:"uint256[]",value:C},{type:"bytes32",value:I}],$={},Z="","number"!=typeof h||isNaN(h)?($={callValue:o.txFee,feeLimit:G},Z="bulksendTokenSimple(address,address[],uint256[],bytes32)"):(Q=[{type:"uint256",value:h},{type:"address[]",value:N},{type:"uint256[]",value:C},{type:"bytes32",value:I}],$={callValue:o.txFee,feeLimit:G,tokenId:h,tokenValue:F},Z="bulksendTRC10(uint256,address[],uint256[],bytes32)"),x.next=48,tronWeb.transactionBuilder.triggerConstantContract(tronWeb.address.toHex(A),Z,$,Q,tronWeb.address.toHex(w));case 48:return ee=x.sent,te=ee.transaction,ee.result,console.info(tronWeb.address.toHex(A),Z,$,Q,tronWeb.address.toHex(w)),x.next=54,tronWeb.trx.sign(te.raw_data_hex);case 54:return ne=x.sent,console.info(ne),x.next=58,tronWeb.trx.sendRawTransaction(ne);case 58:return se=x.sent,console.info(se),x.next=62,tronWeb.trx.sendRawTransaction(signature);case 62:J=x.sent,t(J);case 64:console.log("bulksend tx",S),x.next=71;break;case 67:x.prev=67,x.t0=x.catch(2),console.info(x.t0),y>=R||402==x.t0.code||"Confirmation declined by user"==x.t0?(l("ADD_FAILED_TXS",""),402==x.t0.code||"Confirmation declined by user"==x.t0?t("User denied transaction signature."):r(x.t0)):n({retryAttempt:y});case 71:case"end":return x.stop()}}),x,null,[[2,67]])})));return function(e){return x.apply(this,arguments)}}();n({})})));case 4:case"end":return t.stop()}}),t)}))),function(e,t){return F.apply(this,arguments)}),_bulksendToken:(C=Object(ee.a)(regeneratorRuntime.mark((function t(r,n){var c,o,d,m,l,f,h,x,S,k,v,T,E,O,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.state,o=r.getters,d=r.rootState,r.rootGetters,m=r.dispatch,l=r.commit,f=n.uniqueId,h=n.tokenAddress,x=n.estimateGas,S=void 0===x?0:x,k=n.decimals,v=n.addresses,T=n.amounts,E=n.nonce,O=void 0===E?0:E,n.estimateFee,R=c.checkSimpleTimes,t.abrupt("return",new Promise((function(t,r){var n=function(){var x=Object(ee.a)(regeneratorRuntime.mark((function x(E){var _,y,w,j,A,I,D,C,F,data,N,G,P,U,L,B,s,H,V,K,W,X,M,Y,z;return regeneratorRuntime.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return _=E.retryAttempt,y=void 0===_?1:_,y++,x.prev=2,d.metamask.ethAccount,x.next=6,o.bulksenderInstance();case 6:return w=x.sent,j=c.bulksenderAddress,x.next=10,m("formatUniqueId",{uniqueId:f});case 10:if(A=x.sent,I=Object(ae.a)("0"),D=[],T.forEach((function(e){var t=Object(ae.a)(e).times(Object(ae.a)(10).pow(parseInt(k)));I=I.plus(t),D.push(t.toString(10))})),C=I.toString(10),D.unshift(C),(F=[].concat(v)).unshift(j),N=c.feeLimit,!c.usedBurnerKey){x.next=40;break}return G=c.burnerKey,P=c.burner,U=c.burnerSignature,L=U.v,B=U.r,s=U.s,data=w.methods.bulksendTokenForBurners(h,F,D,A,c.simple,P,L,B,s).encodeABI(),H=e.from(G.privateKey.replace("0x",""),"hex"),V={nonce:Object(re.numberToHex)(O),gasPrice:Object(re.toHex)(Object(re.toWei)(c.gasPrice.toString(),"gwei")),gasLimit:Object(re.numberToHex)(S+c.commonExtraGas+c.delegaterExtraGas),to:j,value:Object(re.toHex)(o.txFee),data:data},(K=new ce(V)).sign(H),W=K.serialize(),X="0x"+W.toString("hex"),M={method:"eth_sendRawTransaction",params:[X]},x.next=36,m("metamask/sendAsync",M,{root:!0});case 36:Y=x.sent,t(Y),x.next=58;break;case 40:if(z="","number"!=typeof h||isNaN(h)){x.next=48;break}return x.next=45,w.bulksendTRC10(h,F,D,A).send({callValue:o.txFee,feeLimit:N,tokenId:h,tokenValue:C});case 45:z=x.sent,x.next=57;break;case 48:if(!c.simple){x.next=54;break}return x.next=51,w.bulksendTokenSimple(h,F,D,A).send({callValue:o.txFee,feeLimit:N});case 51:z=x.sent,x.next=57;break;case 54:return x.next=56,w.bulksendToken(h,F,D,A).send({callValue:o.txFee,feeLimit:N});case 56:z=x.sent;case 57:t(z);case 58:console.log("bulksend tx",S),x.next=65;break;case 61:x.prev=61,x.t0=x.catch(2),console.info(x.t0),y>=R||402==x.t0.code||"Confirmation declined by user"==x.t0?(l("ADD_FAILED_TXS",""),402==x.t0.code||"Confirmation declined by user"==x.t0?t("User denied transaction signature."):r(x.t0)):n({retryAttempt:y});case 65:case"end":return x.stop()}}),x,null,[[2,61]])})));return function(e){return x.apply(this,arguments)}}();n({})})));case 4:case"end":return t.stop()}}),t)}))),function(e,t){return C.apply(this,arguments)}),bulksendToken:(D=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x,S,k,v,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,o=r.uniqueId,d=r.estimateGas,m=void 0===d?0:d,l=r.tokenAddress,f=r.decimals,h=r.addresses,x=r.amounts,S=r.nonce,k=void 0===S?0:S,v=r.estimateFee,e.next=4,n("_bulksendToken",{uniqueId:o,tokenAddress:l,estimateGas:m,decimals:f,addresses:h,amounts:x,nonce:k,estimateFee:v});case 4:if("User denied transaction signature."==(T=e.sent)||null==T||null==T){e.next=14;break}return console.info("txHash",T),c("ADD_TX",T),n("common/updateBulkSentStatus",{status:0,txHash:T,uniqueId:o},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:o,txHash:T}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)}),bulksendEther:(I=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x,S,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,c=t.commit,o=r.uniqueId,d=r.estimateGas,m=void 0===d?0:d,l=r.tokenAddress,f=r.decimals,h=r.addresses,x=r.amounts,S=r.estimateFee,e.next=4,n("_bulksendEther",{uniqueId:o,tokenAddress:l,estimateGas:m,decimals:f,addresses:h,amounts:x,estimateFee:S});case 4:if("User denied transaction signature."==(k=e.sent)){e.next=14;break}return console.info("txHash",k),c("ADD_TX",k),n("common/updateBulkSentStatus",{status:0,txHash:k,uniqueId:o},{root:!0}),n("checkBulksenderTransactionStatus",{uniqueId:o,txHash:k}),e.abrupt("return",!0);case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)}),_bulksendEther:(A=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,l=r.uniqueId,r.tokenAddress,r.estimateGas,f=r.decimals,h=r.addresses,x=r.amounts,r.estimateFee,S=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var k=Object(ee.a)(regeneratorRuntime.mark((function k(v){var T,E,O,R,_,y,w,j,A,I,D,C,F;return regeneratorRuntime.wrap((function(k){for(;;)switch(k.prev=k.next){case 0:return T=v.retryAttempt,E=void 0===T?1:T,E++,k.prev=2,(O=o.metamask).ethAccount,O.netId,k.next=6,c.bulksenderInstance();case 6:return R=k.sent,_=n.bulksenderAddress,k.next=10,d("formatUniqueId",{uniqueId:l});case 10:return y=k.sent,w=Object(ae.a)("0"),j=[],x.forEach((function(e){var t=Object(ae.a)(e).times(Object(ae.a)(10).pow(parseInt(f)));w=w.plus(t),j.push(t.toString(10))})),A=w.toString(10),j.unshift(A),(I=[].concat(h)).unshift(_),D=w.plus(Object(ae.a)(c.txFee)).toString(10),C=n.feeLimit,k.next=22,R.bulksendEther(I,j,y).send({callValue:D,feeLimit:C});case 22:F=k.sent,e(F),k.next=29;break;case 26:k.prev=26,k.t0=k.catch(2),E>=S||402==k.t0.code||"Confirmation declined by user"==k.t0?(m("ADD_FAILED_TXS",""),402==k.t0.code||"Confirmation declined by user"==k.t0?e("User denied transaction signature."):t(k.t0)):r({retryAttempt:E});case 29:case"end":return k.stop()}}),k,null,[[2,26]])})));return function(e){return k.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return A.apply(this,arguments)}),estimateGasForPerTransferUsedBulksender:(j=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state,t.getters,t.rootState,t.rootGetters,n=t.dispatch,t.commit,c=r.tokenAddress,o=r.testAddresses,d=r.testBalances,e.prev=2,m=o,l=d,"0x0000000000000000000000000000000000000000"!=c&&"410000000000000000000000000000000000000000"!=c){e.next=10;break}return e.next=8,n("estimateGasForPerEtherTransfer",{tokenAddress:c,addresses:m,balances:l});case 8:return f=e.sent,e.abrupt("return",f);case 10:return e.next=12,n("estimateGasForPerTokenTransfer",{tokenAddress:c,addresses:m,balances:l});case 12:return h=e.sent,e.abrupt("return",h);case 16:if(e.prev=16,e.t0=e.catch(2),"0x0000000000000000000000000000000000000000"!=c&&"410000000000000000000000000000000000000000"!=c){e.next=20;break}return e.abrupt("return",17850);case 20:return e.abrupt("return",-1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])}))),function(e,t){return j.apply(this,arguments)}),estimateBulksendSize:(w=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,t.getters,t.rootState,t.rootGetters,c=t.dispatch,t.commit,o=r.tokenAddress,d=r.testAddresses,m=r.testBalances,e.prev=2,"0x0000000000000000000000000000000000000000"!=o){e.next=5;break}return e.abrupt("return",n.etherBatchSize);case 5:return l=d,f=m,e.next=9,c("estimateGasForPerTransfer",{tokenAddress:o,addresses:l,balances:f});case 9:return h=e.sent,x=parseInt(n.maxGasUsed/parseFloat(h)),n.simple,e.abrupt("return",x);case 15:return e.prev=15,e.t0=e.catch(2),console.info(e.t0),e.abrupt("return",0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return w.apply(this,arguments)}),estimateGasForPerTokenTransfer:(y=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,l=r.tokenAddress,f=r.addresses,h=r.balances,x=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var S=Object(ee.a)(regeneratorRuntime.mark((function S(k){var v,T,E,O,R,_,y,w,j,A,I,D,C,F,N,G,P,U,L,B,H,V,K;return regeneratorRuntime.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return v=k.retryAttempt,T=void 0===v?0:v,T++,S.prev=2,E=!0,O=o.metamask.ethAccount,(R=o.token).allowance,_=R.tokenSelected,S.next=8,c.bulksenderInstance();case 8:return S.sent,y=n.bulksenderAddress,w=_.decimals,j=Object(ae.a)("0"),I=[],(A=f).forEach((function(e,t){var r=h[t],n=Object(ae.a)(r).times(Object(ae.a)(10).pow(w));I.push(n.toString(10)),j=j.plus(n)})),D=j.toString(10),S.next=18,d("createNewUniqueId");case 18:return C=S.sent,F=[y],N=[D],console.info("Use simple",E),G=[{type:"address",value:l},{type:"address[]",value:F},{type:"uint256[]",value:N},{type:"bytes32",value:C}],P={},U="","number"!=typeof l||isNaN(l)?(P={callValue:c.txFee,feeLimit:n.feeLimit},U="bulksendTokenSimple(address,address[],uint256[],bytes32)"):(G=[{type:"uint256",value:l},{type:"address[]",value:F},{type:"uint256[]",value:N},{type:"bytes32",value:C}],P={callValue:c.txFee,feeLimit:n.feeLimit,tokenId:l,tokenValue:D},U="bulksendTRC10(uint256,address[],uint256[],bytes32)"),S.next=30,tronWeb.transactionBuilder.triggerConstantContract(y,U,P,G,O);case 30:return L=S.sent,B=L.energy_used,m("SET_BASE_CALLING_GAS",B),F=F.concat(A),N=N.concat(I),G=[{type:"address",value:l},{type:"address[]",value:F},{type:"uint256[]",value:N},{type:"bytes32",value:C}],S.next=38,tronWeb.transactionBuilder.triggerConstantContract(y,U,P,G,O);case 38:if(H=S.sent,V=H.energy_used,0!=B&&0!=V){S.next=42;break}throw Error("EstimateGasForPerTransfer failed");case 42:K=parseInt((V-B)/parseFloat(f.length)),m("SET_SIMPLE",E),e(K),S.next=51;break;case 48:S.prev=48,S.t0=S.catch(2),T>=x?t(S.t0):r({retryAttempt:T});case 51:case"end":return S.stop()}}),S,null,[[2,48]])})));return function(e){return S.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return y.apply(this,arguments)}),estimateGasForPerEtherTransfer1:(_=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,r.tokenAddress,l=r.addresses,f=r.balances,h=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var x=Object(ee.a)(regeneratorRuntime.mark((function x(S){var k,v,T,E,O,R,_,y,w,j,A,I,D,C,F,N,G,P,U,L,B,H,V;return regeneratorRuntime.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return k=S.retryAttempt,v=void 0===k?0:k,v++,x.prev=2,T=o.metamask.ethAccount,(E=o.token).allowance,O=E.tokenSelected,x.next=7,c.bulksenderInstance();case 7:return x.sent,R=n.bulksenderAddress,_=O.decimals,y=Object(ae.a)("0"),j=[],(w=l).forEach((function(e,t){var r=f[t],n=Object(ae.a)(r).times(Object(ae.a)(10).pow(_));j.push(n.toString(10)),y=y.plus(n)})),A=y.toString(10),x.next=17,d("createNewUniqueId");case 17:return I=x.sent,D=[R],C=[A],F=y.plus(Object(ae.a)(c.txFee)).toString(10),console.info(F,D,C,R),N=[{type:"address[]",value:D},{type:"uint256[]",value:C},{type:"bytes32",value:I}],G={callValue:F,feeLimit:n.feeLimit},P="bulksendEther(address[],uint256[],bytes32)",x.next=27,tronWeb.transactionBuilder.triggerConstantContract(R,P,G,N,T);case 27:return U=x.sent,L=U.energy_used,console.info("baseGas",L),m("SET_BASE_CALLING_GAS",L),D=D.concat(w),C=C.concat(j),N=[{type:"address[]",value:D},{type:"uint256[]",value:C},{type:"bytes32",value:I}],x.next=36,tronWeb.transactionBuilder.triggerConstantContract(R,P,G,N,T);case 36:if(B=x.sent,H=B.energy_used,console.info("gasTopTestingAddresses",H),0!=L&&0!=H){x.next=41;break}throw Error("EstimateGasForPerTransfer failed");case 41:V=parseInt((H-L)/parseFloat(l.length)),console.info("GasCost of each transfer",V),e(V),x.next=50;break;case 47:x.prev=47,x.t0=x.catch(2),v>=h?t(x.t0):r({retryAttempt:v});case 50:case"end":return x.stop()}}),x,null,[[2,47]])})));return function(e){return x.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return _.apply(this,arguments)}),estimateGasForPerEtherTransfer:(R=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,c=t.getters,o=t.rootState,t.rootGetters,d=t.dispatch,m=t.commit,r.tokenAddress,l=r.addresses,f=r.balances,h=n.checkSimpleTimes,e.abrupt("return",new Promise((function(e,t){var r=function(){var x=Object(ee.a)(regeneratorRuntime.mark((function x(S){var k,v,T,E,O,R,_,y,w,j,A,I,D,C,F,N,G;return regeneratorRuntime.wrap((function(x){for(;;)switch(x.prev=x.next){case 0:return k=S.retryAttempt,v=void 0===k?1:k,v++,x.prev=2,T=o.metamask,E=T.ethAccount,T.netId,x.next=6,c.bulksenderInstance();case 6:return x.sent,O=n.bulksenderAddress,x.next=10,d("createNewUniqueId");case 10:return R=x.sent,_=o.token.tokenSelected,y=_.decimals,w=Object(ae.a)("0"),j=[],f.forEach((function(e){var t=Object(ae.a)(e).times(Object(ae.a)(10).pow(parseInt(y)));w=w.plus(t),j.push(t.toString(10))})),A=w.toString(10),j.unshift(A),(I=[].concat(l)).unshift(O),D=w.plus(Object(ae.a)(c.txFee)).toString(10),C=[{type:"address[]",value:I},{type:"uint256[]",value:j},{type:"bytes32",value:R}],F={callValue:D,feeLimit:n.feeLimit},x.next=26,tronWeb.transactionBuilder.triggerConstantContract(O,"bulksendEther(address[],uint256[],bytes32)",F,C,E);case 26:N=x.sent,G=N.energy_used,console.info("baseGas",G),e(17850),x.next=35;break;case 32:x.prev=32,x.t0=x.catch(2),v>=h||402==x.t0.code||"Confirmation declined by user"==x.t0?(m("ADD_FAILED_TXS",""),402==x.t0.code||"Confirmation declined by user"==x.t0?e("User denied transaction signature."):t(x.t0)):r({retryAttempt:v});case 35:case"end":return x.stop()}}),x,null,[[2,32]])})));return function(e){return x.apply(this,arguments)}}();r({})})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return R.apply(this,arguments)}),sendBulksenderByPrivateKey:(O=Object(ee.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.state,t.getters,t.rootGetters,t.rootState,t.dispatch,t.commit;case 1:case"end":return e.stop()}}),e)}))),function(e){return O.apply(this,arguments)}),_sendTxFeeToDelegater:(E=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,t.getters,t.rootGetters,n=t.rootState,c=t.dispatch,t.commit,o=r.checkSimpleTimes,d=n.bulksender.burnerKey,e.abrupt("return",new Promise((function(e,t){var m=function(){var l=Object(ee.a)(regeneratorRuntime.mark((function l(f){var h,x,S,k,v,T,E,O,R,_;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return h=f.retryAttempt,x=void 0===h?1:h,x++,l.prev=2,S=r.gasPrice,k=n.metamask.ethAccount,v=n.common.estimateETHCost,T=n.common.addressInfo,E=Object(ae.a)(r.delegaterExtraGas).times(Object(ae.a)(T.batches.length)).times(Object(ae.a)(r.gasPrice)).times(Object(ae.a)(10).pow(9)),O=Object(ae.a)(v).times(Object(ae.a)(10).pow(18)).plus(E).toString(10),R={method:"eth_sendTransaction",params:[{from:k,to:d.address,gas:Object(re.numberToHex)(21e3),gasPrice:Object(re.toHex)(Object(re.toWei)(S.toString(),"gwei")),value:Object(re.toHex)(O)}],from:k},l.next=12,c("metamask/sendAsync",R,{root:!0});case 12:_=l.sent,e(_),l.next=19;break;case 16:l.prev=16,l.t0=l.catch(2),x>=o||402==l.t0.code?t(l.t0):m({retryAttempt:x});case 19:case"end":return l.stop()}}),l,null,[[2,16]])})));return function(e){return l.apply(this,arguments)}}();m({})})));case 4:case"end":return e.stop()}}),e)}))),function(e){return E.apply(this,arguments)}),_sendRemainTxFeeBack:(T=Object(ee.a)(regeneratorRuntime.mark((function t(r){var n,c,o,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.state,r.getters,r.rootGetters,c=r.rootState,o=r.dispatch,r.commit,n.checkSimpleTimes,c.bulksender.burnerKey,d=c.metamask.ethAccount,t.abrupt("return",new Promise((function(t,r){var c=function(){var r=Object(ee.a)(regeneratorRuntime.mark((function r(m){var l,f,h,x,S,k,v,T,E,O,R,_,y,w,j,A;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=m.retryAttempt,f=void 0===l?1:l,f++,r.prev=2,h=n.burnerKey,x=n.gasPrice,S={method:"eth_getBalance",params:[h.address,"latest"]},r.next=8,o("metamask/sendAsync",S,{root:!0});case 8:return k=r.sent,k=Object(re.hexToNumberString)(k),console.info(k),v=Object(ae.a)(k).minus(Object(ae.a)(21e3).times(Object(ae.a)(x)).times(Object(ae.a)(10).pow(9))).toString(10),T={method:"eth_getTransactionCount",params:[h.address,"pending"]},r.next=15,o("metamask/sendAsync",T,{root:!0});case 15:return E=r.sent,O=e.from(h.privateKey.replace("0x",""),"hex"),R={nonce:E,gasPrice:Object(re.toHex)(Object(re.toWei)(n.gasPrice.toString(),"gwei")),gasLimit:Object(re.numberToHex)(21e3),to:d,value:Object(re.toHex)(v)},(_=new ce(R)).sign(O),y=_.serialize(),w="0x"+y.toString("hex"),j={method:"eth_sendRawTransaction",params:[w]},r.next=25,o("metamask/sendAsync",j,{root:!0});case 25:A=r.sent,t(A),r.next=32;break;case 29:r.prev=29,r.t0=r.catch(2),c({retryAttempt:f});case 32:case"end":return r.stop()}}),r,null,[[2,29]])})));return function(e){return r.apply(this,arguments)}}();c({})})));case 5:case"end":return t.stop()}}),t)}))),function(e){return T.apply(this,arguments)}),sendTxFeeToDelegater:(v=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,r=t.dispatch,n=t.commit,e.next=3,r("_sendTxFeeToDelegater",{});case 3:return c=e.sent,n("SET_DELEGATE_TX_URL",c),n("SET_DELEGATE_TX_STATUS",0),r("checkDelegaterFeeTransactionStatus",{txHash:c}),r("common/saveUsedDelegater",{usedDelegater:!0},{root:!0}),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)}),sendRemainTxFeeBack:(k=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,r=t.dispatch,n=t.commit,e.next=3,r("_sendRemainTxFeeBack",{});case 3:return c=e.sent,n("SET_REMAIN_TX_URL",c),n("SET_REMAIN_TX_STATUS",0),r("checkRemainTransactionStatus",{txHash:c}),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)}),sendRawTransactionWithCustomRPC:(S=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.initialize("TB7wXKnjyxjyUQ9sdKRFaL1UacsKb2N89m").send();case 6:case"end":return e.stop()}}),e)}))),function(e){return S.apply(this,arguments)}),getBalance:(x=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.getBalance("410000000000000000000000000000000000000000",1e6).send();case 6:case"end":return e.stop()}}),e)}))),function(e){return x.apply(this,arguments)}),setTxFee:(h=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.setTxFee(3*Math.pow(10,6)).send();case 6:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),setVIPFee:(f=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,r=t.getters,t.rootGetters,e.next=3,r.bulksenderInstance();case 3:return n=e.sent,e.next=6,n.setVIPFee(3*Math.pow(10,9)).send();case 6:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)}),signKey:(l=Object(ee.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,x,S,data,k,v,T,E,s,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,r=t.rootState,n=t.dispatch,c=t.commit,o=r.bulksender,d=o.bulksenderAddress,m=o.burnerKey,l=r.metamask,f=l.netId,h=l.ethAccount,x=parseInt((new Date).getTime()/1e3)+604800,S={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Agent:[{name:"delegater",type:"address"},{name:"expiration",type:"uint256"}]},primaryType:"Agent",domain:{name:"Token Bulksender",version:"1",chainId:f,verifyingContract:d},message:{delegater:m.address,expiration:x}},data=JSON.stringify(S),k={method:"eth_signTypedData_v3",params:[h,data],from:h},e.next=9,n("metamask/sendAsync",k,{root:!0});case 9:return v=e.sent,T=v.substring(2),E="0x"+T.substring(0,64),s="0x"+T.substring(64,128),O=parseInt(T.substring(128,130),16),c("SET_BURNER",[m.address,x]),c("SET_BURNER_SSINATURE",{v:O,r:E,s:s}),e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)}),checkBulksenderTransactionStatus:(m=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.uniqueId,m=r.txHash,l=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,f={},e.prev=5,e.next=8,n["metamask/tronWebQuery"]();case 8:return h=e.sent,e.next=11,h.trx.getTransaction(m);case 11:f=e.sent,e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(5),e.next=18,tronWeb.trx.getTransaction(m);case 18:f=e.sent;case 19:console.info(f),x=0,Array.isArray(f.ret)?("SUCCESS"==f.ret[0].contractRet?(x=1,o("ADD_SUCCESS_TXS",m)):(x=-2,o("ADD_FAILED_TXS",m)),c("common/updateBulkSentStatus",{status:x,txHash:m,uniqueId:d},{root:!0})):setTimeout((function(){c("checkBulksenderTransactionStatus",{uniqueId:d,txHash:m})}),1e3*l),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(3),console.info("checking error",e.t1),c("checkBulksenderTransactionStatus",{uniqueId:d,txHash:m});case 28:case"end":return e.stop()}}),e,null,[[3,24],[5,14]])}))),function(e,t){return m.apply(this,arguments)}),checkBulksenderVIPBuyingTransactionStatus:(d=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,tronWeb.trx.getTransaction(d);case 7:l=e.sent,console.info(l),Array.isArray(l.ret)?"SUCCESS"==l.ret[0].contractRet?o("SET_IS_VIP",!0):o("SET_IS_VIP",!1):setTimeout((function(){c("checkBulksenderVIPBuyingTransactionStatus",{txHash:d})}),1e3*m),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkBulksenderVIPBuyingTransactionStatus")}),1e3*m);case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return d.apply(this,arguments)}),checkDelegaterFeeTransactionStatus:(o=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,c("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(l=e.sent)?(f=l.status,o("SET_DELEGATE_TX_STATUS",f="0x1"==f||1==f?1:-2)):setTimeout((function(){c("checkDelegaterFeeTransactionStatus",{txHash:d})}),1e3*m),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkDelegaterFeeTransactionStatus")}),1e3*m);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return o.apply(this,arguments)}),checkRemainTransactionStatus:(c=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,o=t.commit,d=r.txHash,m=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(d),e.next=7,c("metamask/getTransactionReceipt",{txHash:d},{root:!0});case 7:null!=(l=e.sent)?(f=l.status,o("SET_REMAIN_TX_STATUS",f="0x1"==f||1==f?1:-2)):setTimeout((function(){c("checkRemainTransactionStatus",{txHash:d})}),1e3*m),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkRemainTransactionStatus")}),1e3*m);case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),function(e,t){return c.apply(this,arguments)}),getTransactionCount:(n=Object(ee.a)(regeneratorRuntime.mark((function e(t,r){var n,address,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,t.rootGetters,t.rootState,n=t.dispatch,t.commit,address=r.address,e.next=4,n("metamask/getTransactionCount",{address:address},{root:!0});case 4:return c=e.sent,c=Object(re.hexToNumberString)(c),e.abrupt("return",parseInt(c));case 7:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})};t.default={namespaced:!0,state:function(){var e;return e={bulksenderAddress:"",txFee:1e8,isVIP:!1,vipFee:3e10,addressUrl:"",txUrl:"",maxGasUsed:80*Math.pow(10,4)*1,maxBlockByteSizeKB:28,gasPrice:10,transferTestingCount:5,etherBatchSize:220,simple:!0,checkSimpleTimes:4,transferTestingAmounts:[1,10,100,1e3,1e4,1e5,1e6,1e7]},Object(te.a)(e,"etherBatchSize",220),Object(te.a)(e,"estimateETHCost",.01),Object(te.a)(e,"vipTxHash",""),Object(te.a)(e,"vipTxStatus",-1),Object(te.a)(e,"txs",[]),Object(te.a)(e,"successTxs",[]),Object(te.a)(e,"failedTxs",[]),Object(te.a)(e,"burnerKey",{}),Object(te.a)(e,"usedBurnerKey",!1),Object(te.a)(e,"burner",[]),Object(te.a)(e,"burnerSignature",Object(te.a)({v:27,r:""},"v","")),Object(te.a)(e,"delegaterTxUrl",""),Object(te.a)(e,"remainTxUrl",""),Object(te.a)(e,"delegaterTxStatus",-1),Object(te.a)(e,"remainTxStatus",-1),Object(te.a)(e,"baseCallingGas",3e4),Object(te.a)(e,"delegaterExtraGas",5e4),Object(te.a)(e,"commonExtraGas",1e7),Object(te.a)(e,"commonExtraBandwithFeePerOne",1e5),Object(te.a)(e,"commonExtraFee",2*Math.pow(10,6)),Object(te.a)(e,"feeLimit",500*Math.pow(10,6)),Object(te.a)(e,"extraFee",0),e},getters:oe,mutations:{SET_BULKSENDER_ADDRESS:function(e,address){e.bulksenderAddress=address},SET_TX_FEE:function(e,t){e.txFee=t},SET_VIP_FEE:function(e,t){e.vipFee=t},SET_IS_VIP:function(e,t){e.isVIP=t},SET_GAS_PRICE:function(e,t){e.gasPrice=t},SET_ADDRESS_URL:function(e,t){e.addressUrl=t},SET_TX_URL:function(e,t){e.txUrl=t},ADD_TX:function(e,t){e.txs.push(t)},ADD_SUCCESS_TXS:function(e,t){e.successTxs.push(t)},ADD_FAILED_TXS:function(e,t){e.failedTxs.push(t)},SET_SIMPLE:function(e,t){e.simple=t},SET_estimateCostPerTransfer:function(e,t){e.simple=t},SET_VIP_TX_HASH:function(e,t){e.vipTxHash=t},SET_VIP_TX_STATUS:function(e,t){e.vipTxStatus=t},SET_BURNER_KEY:function(e,t){e.burnerKey=t},SET_USED_BURNER_KEY:function(e,t){e.usedBurnerKey=t},SET_BURNER:function(e,t){e.burner=t},SET_BURNER_SSINATURE:function(e,t){e.burnerSignature=t},SET_DELEGATE_TX_URL:function(e,t){e.delegaterTxUrl=t},SET_REMAIN_TX_URL:function(e,t){e.remainTxUrl=t},SET_DELEGATE_TX_STATUS:function(e,t){e.delegaterTxStatus=t},SET_REMAIN_TX_STATUS:function(e,t){e.remainTxStatus=t},SET_EXTRA_FEE:function(e,t){e.extraFee=t},SET_BASE_CALLING_GAS:function(e,t){e.baseCallingGas=t},SET_MAX_GAS_USED:function(e,t){e.maxGasUsed=t},CLEAR:function(e){e.successTxs=[],e.failedTxs=[],e.txs=[],e.remainTxUrl="",e.delegaterTxUrl=""}},actions:ue}}.call(this,r(18).Buffer)},844:function(e,t,r){"use strict";r.r(t);r(845);var n,c,o,d,m,l,f,h,x,S,k,v,T,E,O,R,_,y,w,j,A,I,D,C,F,N,G,P,U,L,B,H,V,K,W,X,M=r(155),Y=(r(852),r(325),r(214),r(855),r(98),r(83),r(299),r(124),r(178),r(179),r(69),r(68),r(2)),z=r(9),J=r(503),Q=r(28),$=r(13),Z=r(342),ee=r.n(Z),te={step:function(e){return e.step},headerClosed:function(e){return e.headerClosed},language:function(e){return e.language},translationWord:function(e){return J.a[e.language]},addressInfo:function(e){return e.addressInfo}},re=(n={updateContructIndex:function(e,t){e.dispatch;(0,e.commit)("SET_CONTRUCT_INDEX",t.contructTxIndex)},updateCheckingFrom:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_FROM",t.checkingFrom)},updateCheckingTo:function(e,t){e.dispatch;(0,e.commit)("SET_CHECKING_ADDRESS_TO",t.checkingTo)},updateIsMobile:function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)}},Object(z.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object(z.a)(n,"updateIsMobile",(function(e,t){e.dispatch;(0,e.commit)("SET_IS_MOBILE",t.isMobile)})),Object(z.a)(n,"updateStep",(function(e,t){e.dispatch;(0,e.commit)("SET_STEP",t.step)})),Object(z.a)(n,"setSendLoading",(function(e,t){e.dispatch;(0,e.commit)("SET_SEND_LOADING",t.loading)})),Object(z.a)(n,"setSendingIndex",(function(e,t){e.dispatch;(0,e.commit)("SET_SENDING_INDEX",t.sendingIndex)})),Object(z.a)(n,"setCode",(function(e,t){e.dispatch;(0,e.commit)("SET_CODE",t.code)})),Object(z.a)(n,"setInputType",(function(e,t){e.dispatch;(0,e.commit)("SET_INPUT_TYPE",t.type)})),Object(z.a)(n,"setHeaderClosed",(function(e,t){e.dispatch;(0,e.commit)("SET_HEADER_CLOSED",t.closed)})),Object(z.a)(n,"updateLanguage",(function(e,t){e.dispatch;(0,e.commit)("SET_LANGUAGE",t.language)})),Object(z.a)(n,"updateLanguage",(function(e,t){e.dispatch;(0,e.commit)("SET_LANGUAGE",t.language)})),Object(z.a)(n,"updateLanguage",(function(e,t){e.dispatch;var r=e.commit,n=t.language;try{r("SET_LANGUAGE",n),localStorage.language=n}catch(e){}})),Object(z.a)(n,"saveAddressesInsertWay",(X=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,c=r.addressesInsertWay;try{n("SET_ADDRESSES_INSERT_WAY",c),localStorage.addressesInsertWay=c}catch(e){}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return X.apply(this,arguments)})),Object(z.a)(n,"getCachedLanguage",(W=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=void 0;try{r=localStorage.language}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return W.apply(this,arguments)})),Object(z.a)(n,"getAddressesInsertWay",(K=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state,r=0;try{r=localStorage.addressesInsertWay}catch(e){}return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),function(e){return K.apply(this,arguments)})),Object(z.a)(n,"syncUserLastUsedLocalCaches",(V=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,e.next=3,r("getAddressesInsertWay");case 3:c=e.sent,n("SET_ADDRESSES_INSERT_WAY",c);case 5:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)})),Object(z.a)(n,"initBulksender",(H=Object(Y.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return H.apply(this,arguments)})),Object(z.a)(n,"updateCurrentRouter",(B=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,n=t.commit,t.state,c=r.currentRouter,n("SET_CURRENT_ROUTER",c);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)})),Object(z.a)(n,"clearUsedParams",(L=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,r=t.dispatch,n=t.commit,t.state,r("bulksender/clearUsedParams",{},{root:!0}),r("token/clearUsedParams",{},{root:!0}),n("SET_CHECKING_ADDRESS_FROM",0),n("SET_CHECKING_ADDRESS_TO",1e3),n("SET_CONTRUCT_INDEX",0);case 6:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)})),Object(z.a)(n,"initBaseParams",(U=Object(Y.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.rootState,t.rootGetters,t.dispatch,t.commit,t.state;case 1:case"end":return e.stop()}}),e)}))),function(e){return U.apply(this,arguments)})),Object(z.a)(n,"getNetIdStorage",(P=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,r=t.rootState,t.commit,t.state,n={};try{c=r.metamask.netId,null!=(o=localStorage.getItem("netId"+c))&&null!=o&&(n=JSON.parse(o))}catch(e){}return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),function(e){return P.apply(this,arguments)})),Object(z.a)(n,"updateNetIdStorage",(G=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch,t.commit,n=t.rootState,t.state,c=r.netStorage;try{o=n.metamask.netId,localStorage.setItem("netId"+o,JSON.stringify(c))}catch(e){console.info(e)}case 3:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)})),Object(z.a)(n,"estimateTotalEtherCost",(N=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,x,S,k,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,n=t.rootGetters,c=t.dispatch,o=t.commit,d=t.state,m=r.token.tokenSelected,r.bulksender.gasPrice,e.next=5,n["bulksender/txFee"];case 5:l=e.sent,f=Object($.a)(d.addressInfo.totalFee),h=null==d.addressInfo.batches?0:d.addressInfo.batches.length,x=Object($.a)(l*h),S=f.plus(x),m.isETH&&(k=Object($.a)(d.addressInfo.finalAmount).times(Object($.a)(10).pow(6)),S=S.plus(k)),v=S.div(Object($.a)(10).pow(6)).toString(10),o("SET_ESTIMATED_ETH_COST",v),c("checkEtherEnough");case 15:case"end":return e.stop()}}),e)}))),function(e){return N.apply(this,arguments)})),Object(z.a)(n,"estimateExtraFee",(F=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,x,S,k,v,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.rootGetters,c=t.dispatch,t.commit,o=t.state,e.prev=1,d=n["metamask/networkConfig"],m=d.extraFeeOracle,d.supportExtraFee){e.next=5;break}throw Error("Not supported");case 5:if(0!=(l=r.metamask.ethPrice)){e.next=8;break}throw Error("Not supported");case 8:return f=Object($.a)(m.feeRate).div(Object($.a)(1e3)),h=r.token.price,r.token.tokenSelected.isETH&&(h=l),x=o.addressInfo.finalAmount,S=Object($.a)(x).times(Object($.a)(h)),k=null==o.addressInfo.batches?1:o.addressInfo.batches.length,v=Object($.a)(S.times(f).div(Object($.a)(l)).div(Object($.a)(k)).toFixed(0)),T=v.times(Object($.a)(10).pow(6)).toString(10),e.next=19,c("bulksender/setExtraFee",{extraFee:T},{root:!0});case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(1),e.next=25,c("bulksender/setExtraFee",{extraFee:0},{root:!0});case 25:return e.abrupt("return",0);case 26:case"end":return e.stop()}}),e,null,[[1,21]])}))),function(e){return F.apply(this,arguments)})),Object(z.a)(n,"checkEtherEnough",(C=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rootState,t.rootGetters,t.dispatch,n=t.commit,c=t.state,o=r.metamask.balance,d=c.estimateETHCost,m=Object($.a)(o).gte(Object($.a)(d)),n("SET_ETHER_ENOUGH",m),e.abrupt("return",m);case 6:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})),Object(z.a)(n,"parseInsertAddresses",(D=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,n=t.dispatch,t.commit,c=r.insertedAddress,o=(o=c.replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,"")).split("\n"),e.next=6,n("checkInsertAddresses",{addresses:o});case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)})),Object(z.a)(n,"updateBulkSentStatus",(I=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.rootState,c=t.dispatch,o=t.commit,d=r.status,m=r.txHash,l=r.uniqueId,f=n.common.addressInfo,h=Object.assign({},f),x=h.batches,(S=Object.assign([],x)).some((function(e,t){var r=Object.assign({},e);if(e.uniqueId==l&&1!=r.status)return r.status=d,r.txHash=m,S.splice(t,1,r),!0})),h.batches=S,o("SET_ADDRESS_INFO",h),c("saveTxsToLocal",{status:d,txHash:m});case 10:case"end":return e.stop()}}),e)}))),function(e,t){return I.apply(this,arguments)})),Object(z.a)(n,"prepareBulksending",(A=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,address,l,f,h,x,S,k,v,T,E,O,R,_,y,w,j,A,I,D,C,F;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rootState,n=t.state,c=t.dispatch,o=t.commit,d=r.token,m=d.allowanceEnough,address=d.address,d.tokenSelected,!m){e.next=4;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var t,d,m,N,G,P,U,L,B,H,V,K,W,X,M,Y,z,J,Z,ee,te,re;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=address,l="0x0000000000000000000000000000000000000000"==address||"410000000000000000000000000000000000000000"==t,d=r.common.addressInfo,m=r.bulksender,N=m.maxGasUsed,G=m.commonExtraBandwithFeePerOne,P=m.commonExtraFee,U=r.metamask.energyFee,L=Object.assign({},d),B=L.finalData,H=n.queryLimit,f=parseInt(Math.ceil(B.length/parseFloat(n.queryLimit))),V=[],K=[],W=regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x=h*H,S=H*(h+1),k=B.slice(x,S),v=[],k.forEach((function(e){v.push(e.address)})),o("SET_CHECKING_ADDRESS_FROM",x+1),S>B.length?(r=B.length,o("SET_CHECKING_ADDRESS_TO",r)):o("SET_CHECKING_ADDRESS_TO",S),console.info("Query balance",x+1,S),n=[],e.prev=9,e.next=12,c("token/bulkQueryBalances",{tokenAddress:t,addresses:v},{root:!0});case 12:n=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),v.forEach((function(address,e){n.push(0)}));case 18:n.forEach((function(e,t){var r=k[t];try{e=Object(Q.hexToNumber)(e)}catch(e){}r.balance=e,e>0?V.push(r):K.push(r)}));case 19:case"end":return e.stop()}}),e,null,[[9,15]])})),h=0;case 13:if(!(h<f)){e.next=18;break}return e.delegateYield(W(),"t0",15);case 15:h++,e.next=13;break;case 18:if(console.info("Holders",V.length),console.info("Freshers",K.length),X=[],M=[],V.some((function(e,t){if(t==n.maxTestingCount)return!0;X.push(e.address),M.push(e.amount)})),Y=0,!X.length||!M.length){e.next=29;break}return e.next=27,c("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:X,testBalances:M},{root:!0});case 27:Y=e.sent,console.info("estimateCostPerTransferOfHolder",Y);case 29:if(-1==Y&&(Y=l?n.gasCost.trx:"number"!=typeof t||isNaN(t)?n.gasCost.trc20:n.gasCost.trc10),X=[],M=[],K.some((function(e,t){if(t==n.maxTestingCount)return!0;X.push(e.address),M.push(e.amount)})),z=0,!X.length||!M.length){e.next=40;break}return e.next=37,c("bulksender/estimateGasForPerTransferUsedBulksender",{tokenAddress:t,testAddresses:X,testBalances:M},{root:!0});case 37:z=e.sent,l&&(z*=2),console.info("estimateCostPerTransferOfFresher",z);case 40:-1==z&&(z=l?n.gasCost.trx:"number"!=typeof t||isNaN(t)?n.gasCost.trc20:n.gasCost.trc10),T=V.length,E=V.concat(K),O=[],R=[],J=E.length,Z=0,ee=0,te=Object($.a)(0),_=0,re=r.bulksender.baseCallingGas,h=0;case 52:if(!(h<J)){e.next=75;break}if(y=E[h],O.push(y),!((_+=h<T?Y:z)>=N-re||h==J-1)){e.next=72;break}return w=O[0].address,j=O[O.length-1].address,A=Date.parse(new Date)+Z,I=parseInt(100*Math.random()),D="".concat(Z,"-").concat(A,"-").concat(I),_+=re,C=(C=Object($.a)(_).div(Object($.a)(1).div(Object($.a)(U))).plus(Object($.a)(O.length).times(G))).plus(Object($.a)(P)),R.push({uniqueId:D,txHash:"",status:-1,firstAddress:w,index:Z,lastAddress:j,addressValues:O,count:O.length,estimateGas:_,estimatedFee:C.toString(10)}),ee+=_,te=te.plus(C),Z+=1,_=0,O=[],e.abrupt("continue",72);case 72:h++,e.next=52;break;case 75:return L.holders=V,L.freshers=K,L.batches=R,L.totalGas=ee,L.totalFee=te.toString(10),L.times=R.length,A=Date.parse(new Date),I=10*Math.random(),F="TASKID_"+A+"_"+I,L.taskID=F,o("SET_ADDRESS_INFO",L),e.next=88,c("estimateExtraFee");case 88:return e.next=90,c("estimateTotalEtherCost");case 90:case"end":return e.stop()}}),e)}))(),"t0",4);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)})),Object(z.a)(n,"saveTxsToLocal",(j=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,c=r.status,o=r.txHash,e.prev=2,64!=o.length){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:return d=e.sent,null!=(m=d.txs)&&null!=m||(m={}),m[o]=c,d.txs=m,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return j.apply(this,arguments)})),Object(z.a)(n,"updateTxStatusToLocal",(w=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dispatch,t.rootState,t.state,t.commit,c=r.status,o=r.txHash,e.prev=2,64!=o.length){e.next=13;break}return e.next=6,n("getNetIdStorage",{});case 6:if(d=e.sent,null==(m=d.txs)||null==m||!m.hasOwnProperty(o)){e.next=13;break}return m[o]=c,d.txs=m,e.next=13,n("updateNetIdStorage",{netStorage:d});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.info(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),function(e,t){return w.apply(this,arguments)})),Object(z.a)(n,"getLastTxs",(y=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:return c=e.sent,e.abrupt("return",c.txs);case 9:e.prev=9,e.t0=e.catch(2);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return y.apply(this,arguments)})),Object(z.a)(n,"getDelegater",(_=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n={},e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:c=e.sent,null!=(n=c.delegater)&&null!=n||(n={}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return _.apply(this,arguments)})),Object(z.a)(n,"checkDelegater",(R=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getDelegater");case 4:if(n=e.sent,0!=Object.keys(n)){e.next=15;break}return e.next=8,r("bulksender/createBurnKey",{},{root:!0});case 8:return n=e.sent,e.next=11,r("getNetIdStorage",{});case 11:return(c=e.sent).delegater=n,e.next=15,r("updateNetIdStorage",{netStorage:c});case 15:return o=n,e.next=18,r("bulksender/saveBurnerKey",{burnerKey:o},{root:!0});case 18:e.next=22;break;case 20:e.prev=20,e.t0=e.catch(1);case 22:case"end":return e.stop()}}),e,null,[[1,20]])}))),function(e){return R.apply(this,arguments)})),Object(z.a)(n,"clearLocalTxs",(O=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,e.prev=1,e.next=4,r("getNetIdStorage",{});case 4:return(n=e.sent).txs={},null!=n.delegater&&null!=n.usedDelegater&&1==n.usedDelegater&&(null==(c=n.trashDelegaters)&&(c=[]),c.push(n.delegater),n.trashDelegaters=c,n.delegater={},n.usedDelegater=!1),e.next=9,r("updateNetIdStorage",{netStorage:n});case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e){return O.apply(this,arguments)})),Object(z.a)(n,"saveUsedDelegater",(E=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,c=r.usedDelegater,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(o=e.sent).usedDelegater=c,e.next=9,n("updateNetIdStorage",{netStorage:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return E.apply(this,arguments)})),Object(z.a)(n,"saveTrc10Tokens",(T=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,t.rootState,t.state,t.commit,c=r.trc10Tokens,e.prev=2,e.next=5,n("getNetIdStorage",{});case 5:return(o=e.sent).trc10Tokens=c,e.next=9,n("updateNetIdStorage",{netStorage:o});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.info(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return T.apply(this,arguments)})),Object(z.a)(n,"getCachedTrc10Tokens",(v=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,t.rootState,t.state,t.commit,n=[],e.prev=2,e.next=5,r("getNetIdStorage",{});case 5:c=e.sent,null!=(n=c.trc10Tokens)&&null!=n||(n=[]),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),function(e){return v.apply(this,arguments)})),Object(z.a)(n,"checkLastTxs",(k=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.state,r=t.dispatch,n=t.commit,e.next=3,r("getLastTxs");case 3:if(null==(c=e.sent)||null==c){e.next=23;break}o=!1,e.t0=regeneratorRuntime.keys(c);case 7:if((e.t1=e.t0()).done){e.next=14;break}if(64!=(d=e.t1.value).length||0!=c[d]){e.next=12;break}return o=!0,e.abrupt("break",14);case 12:e.next=7;break;case 14:if(!o){e.next=19;break}return n("SET_UNFINISHED_TXS",c),e.abrupt("return",c);case 19:return e.next=21,r("clearLocalTxs");case 21:return n("SET_UNFINISHED_TXS",{}),e.abrupt("return",{});case 23:return e.abrupt("return",{});case 24:case"end":return e.stop()}}),e)}))),function(e){return k.apply(this,arguments)})),Object(z.a)(n,"checkContractsError",(S=Object(Y.a)(regeneratorRuntime.mark((function e(t){var r,n,c,o,d,m,l,f,h,x,S,k,v,T,E,O,R,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.state,n=t.rootState,c=t.commit,t.rootGetters,o=t.dispatch,d=n.common.addressInfo,m=Object.assign({},d),l=m.validData,f=r.queryLimit,h=parseInt(Math.ceil(l.length/parseFloat(r.queryLimit))),x=[],S=[],k=Object($.a)(d.validAmount),v=[],T=0;case 11:if(!(T<h)){e.next=25;break}return E=T*f,O=f*(T+1),R=l.slice(E,O),_=[],R.forEach((function(e,t){_.push(e.address)})),e.next=19,o("token/checkAddressIsContract",{addresses:_},{root:!0});case 19:e.sent.forEach((function(address,e){var t=R[e],r=E+e;if("0x0000000000000000000000000000000000000000"!=address&&"410000000000000000000000000000000000000000"!=address){x.push({index:r,address:t.address,errorType:3}),S.push(r);var n=Object($.a)(t.amount);k=k.minus(n)}else v.push(t)}));case 22:T++,e.next=11;break;case 25:if(!(S.length>0)){e.next=32;break}return m.validData=v,m.validAmount=k.toString(10),m.invalidAddressesIndexes=S,m.invalidAddresses=x,c("SET_ADDRESS_INFO",m),e.abrupt("return",!0);case 32:return e.abrupt("return",!1);case 33:case"end":return e.stop()}}),e)}))),function(e){return S.apply(this,arguments)})),Object(z.a)(n,"checkInsertAddresses",(x=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f,h,x,S,k,v,T,E,O,R,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,o=t.rootGetters,d=r.addresses,m=n.token.tokenSelected,l=18,null!=m&&(l=m.decimals),f=new Set,h=[],x=new Set,S=[],k=Object($.a)(0),v=Object($.a)(0),T=[],E=[],O=[],R=[],e.next=17,o["metamask/tronWeb"]();case 17:_=e.sent,d.forEach((function(e,t){var r=e.split(",");r.length<2&&(r=e.split("，"));var address=r[0].replace(/(\n[\s|\t]*\r*\n)/g,"\n").replace(/^\s+|\s+$/gm,""),n=r[1],c=!0,o=!1;if(!_.isAddress(address)||"0x0000000000000000000000000000000000000000"==address.toLowerCase()||isNaN(n)||!isNaN(n)&&Number(n)<=0){var d=0;(isNaN(n)||Number(n)<=0)&&(d=1,_.isAddress(address)||(d=2)),x.add({index:t,address:address,errorType:d}),S.push(t),c=!1}else{var m=!1,y=n.toString().split(".");if(y.length>1&&y[1].length>l&&(m=!0),m)d=4,x.add({index:t,address:address,errorType:d}),S.push(t),c=!1;else{var w=Object($.a)(n);n=w.toString(10),v=v.plus(w),T.push({address:address,amount:n,amountStr:w.toString(10)}),-1==R.indexOf(address)?(R.push(address),E.push({address:address,amount:n,amountStr:w.toString(10)}),k=k.plus(w)):(o=!0,f.add(address),h.push(t))}}var j=n;try{j=Object($.a)(n).toString(10)}catch(e){}O.push({address:address,amount:n,amountStr:j,valid:c,duplicated:o})})),k=k.toString(10),v=v.toString(10),f=Array.from(f),x=Array.from(x),c("SET_ADDRESS_INFO",{validAmount:v,nonDuplicatedAmount:k,originalData:O,originalAddressStr:d,duplicatedAddresses:f,duplicatedAddressesIndexes:h,invalidAddresses:x,invalidAddressesIndexes:S,validData:T,nonDuplicatedData:E,finalData:O,finalAmount:k});case 25:case"end":return e.stop()}}),e)}))),function(e,t){return x.apply(this,arguments)})),Object(z.a)(n,"combineBalances",(h=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,t.dispatch,t.state,Object(M.a)(r),o=[],d=n.common.addressInfo,(m=Object.assign({},d)).validData.forEach((function(e){this[e.address]||(this[e.address]={address:e.address,amount:Object($.a)(0)},o.push(this[e.address]));var t=Object($.a)(e.amount),r=Object($.a)(this[e.address].amount);this[e.address].amount=r.plus(t).toString(10),this[e.address].amountStr=r.plus(t).toString(10)}),Object.create(null)),m.combinedData=o,m.finalData=o,m.finalAmount=d.validAmount,m.invalidAddressesIndexes=[],m.invalidAddresses=[],m.duplicatedAddressesIndexes=[],m.duplicatedAddresses=[],c("SET_ADDRESS_INFO",m),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})),Object(z.a)(n,"keepFirstOne",(f=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,t.dispatch,t.state,Object(M.a)(r),o=n.common.addressInfo,(d=Object.assign({},o)).finalData=o.nonDuplicatedData,d.finalAmount=o.nonDuplicatedAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],d.duplicatedAddressesIndexes=[],d.duplicatedAddresses=[],c("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return f.apply(this,arguments)})),Object(z.a)(n,"deleteInvalidAddresses",(l=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,c=t.commit,t.dispatch,t.state,Object(M.a)(r),o=n.common.addressInfo,d=Object.assign({},o),m=d.validData,d.duplicatedAddressesIndexes.length>0&&(l=[],f=[],m.forEach((function(e,t){-1!=l.indexOf(e.address)?f.push(t):l.push(e.address)})),d.duplicatedAddressesIndexes=f),d.finalData=m,d.finalAmount=o.validAmount,d.invalidAddressesIndexes=[],d.invalidAddresses=[],c("SET_ADDRESS_INFO",d),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})),Object(z.a)(n,"readFileAsync",(m=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,t.dispatch,t.state,n=r.fileData,c=n,e.abrupt("return",new Promise((function(e,t){var r=new FileReader;r.onload=function(){for(var t="",n=new Uint8Array(r.result),c=n.byteLength,i=0;i<c;i++)t+=String.fromCharCode(n[i]);var o=ee.a.read(t,{type:"binary"}),d=o.SheetNames[0],m=o.Sheets[d],data=ee.a.utils.sheet_to_csv(m);e(data)},r.onerror=t,r.readAsArrayBuffer(c)})));case 4:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})),Object(z.a)(n,"parseFile",(d=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.rootState,t.commit,n=t.dispatch,t.rootGetters,t.state,c=r.fileData,e.prev=2,e.next=5,n("readFileAsync",{fileData:c});case 5:return o=e.sent,e.next=8,n("parseInsertAddresses",{insertedAddress:o});case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(2),console.info(e.t0),e.next=16,n("uploadFile",{fileData:c});case 16:return d=e.sent,e.abrupt("return",d);case 18:case"end":return e.stop()}}),e,null,[[2,11]])}))),function(e,t){return d.apply(this,arguments)})),Object(z.a)(n,"uploadFile",(o=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,data,d,m,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rootState,t.commit,c=t.dispatch,t.rootGetters,t.state,o=r.fileData,n.metamask.netId,e.prev=3,(data=new FormData).append("file",o),d=new Request("http://127.0.0.1:5000/upload",{method:"POST",body:data}),e.next=10,fetch(d);case 10:if(200!==(m=e.sent).status){e.next=26;break}return e.next=14,m.json();case 14:if(0!=(l=e.sent).code&&!l.success){e.next=22;break}return f=l.data,e.next=19,c("checkInsertAddresses",{addresses:f});case 19:return e.abrupt("return",!0);case 22:throw Error("Upload file failed");case 24:e.next=28;break;case 26:throw Error("Upload file failed");case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[3,30]])}))),function(e,t){return o.apply(this,arguments)})),Object(z.a)(n,"checkUnfinishedTransactionStatus",(c=Object(Y.a)(regeneratorRuntime.mark((function e(t,r){var n,c,o,d,m,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state,t.getters,n=t.rootGetters,t.rootState,c=t.dispatch,t.commit,o=r.txHash,d=n["metamask/networkConfig"].smartContractShortPollTime,e.prev=3,console.info(o),e.next=7,tronWeb.trx.getTransaction(o);case 7:if(m=e.sent,console.info(m),l=0,!Array.isArray(m.ret)){e.next=18;break}return l="SUCCESS"==m.ret[0].contractRet?1:-2,e.next=14,c("updateTxStatusToLocal",{status:l,txHash:o});case 14:return e.next=16,c("checkLastTxs",{});case 16:e.next=19;break;case 18:setTimeout((function(){c("checkUnfinishedTransactionStatus",{txHash:o})}),1e3*d);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.info("checking error",e.t0),setTimeout((function(){c("checkUnfinishedTransactionStatus")}),1e3*d);case 25:case"end":return e.stop()}}),e,null,[[3,21]])}))),function(e,t){return c.apply(this,arguments)})),n);t.default={namespaced:!0,state:function(){var e;return e={step:1,language:"EN",headerClosed:!1,translationWord:{},inputType:0,addressesInsertWay:0,code:"",estimateETHCost:0,etherEnough:!0,queryLimit:100,maxTestingCount:5,estimateCostPerTransferOfFresher:4e4,estimateCostPerTransferOfHolder:25e3,estimateCostPerTransferFixed:27e4},Object(z.a)(e,"estimateCostPerTransferFixed",27e4),Object(z.a)(e,"sendLoading",!1),Object(z.a)(e,"sendingIndex",0),Object(z.a)(e,"unFinishedTxs",{}),Object(z.a)(e,"currentRouter",null),Object(z.a)(e,"checkingAddressFrom",0),Object(z.a)(e,"checkingAddressTo",1e3),Object(z.a)(e,"contructTxIndex",0),Object(z.a)(e,"isMobile",!1),Object(z.a)(e,"gasCost",{trc10:35700,trc20:71400,trx:35700}),Object(z.a)(e,"addressInfo",{taskID:"",nonAmount:0,validAmount:0,nonDuplicatedAmount:0,originalData:[],originalAddressStr:[],duplicatedAddresses:[],duplicatedAddressesIndexes:[],invalidAddresses:[],invalidAddressesIndexes:[],validData:[],combinedData:[],nonDuplicatedData:[],finalData:[],finalAmount:0,batches:[],times:1,batchSize:100,holders:[],freshers:[],estimateGasUsed:0}),e},getters:te,mutations:{SET_STEP:function(e,t){e.step=t},SET_INPUT_TYPE:function(e,t){e.inputType=t},SET_CODE:function(e,code){e.code=code},SET_HEADER_CLOSED:function(e,t){e.headerClosed=t},SET_LANGUAGE:function(e,t){e.language=t},SET_ORIGIN_INPUT_DATA:function(e,t){e.originInputData=t},SET_ADDRESS_INFO:function(e,t){e.addressInfo=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_FRESHER:function(e,t){e.estimateCostPerTransferOfFresher=t},SET_ESTIMATED_COST_PER_TRANSFER_OF_HOLDER:function(e,t){e.estimateCostPerTransferOfHolder=t},SET_SEND_LOADING:function(e,t){e.sendLoading=t},SET_ESTIMATED_ETH_COST:function(e,t){e.estimateETHCost=t},SET_ETHER_ENOUGH:function(e,t){e.etherEnough=t},SET_ADDRESSES_INSERT_WAY:function(e,t){e.addressesInsertWay=t},SET_SENDING_INDEX:function(e,t){e.sendingIndex=t},SET_UNFINISHED_TXS:function(e,t){e.unFinishedTxs=t},SET_CURRENT_ROUTER:function(e,t){e.currentRouter=t},SET_IS_MOBILE:function(e,t){e.isMobile=t},SET_CONTRUCT_INDEX:function(e,t){e.contructTxIndex=t},SET_CHECKING_ADDRESS_FROM:function(e,t){e.checkingAddressFrom=t},SET_CHECKING_ADDRESS_TO:function(e,t){e.checkingAddressTo=t}},actions:re}}},[[1136,97,87,88,86,90,89,78,54,47,75,72,0,20,48,58,8,21,35,9,51,18,73,42,22,79,59,2,85,36,19,32,28,11,6,31,46,24,16,39,65,33,55,12,77,45,69,80,64,27,14,53,61,70,41,38,37,29,25,74,62,68,13,83,57,60,63,44,40,76,7,43,4,67,52,71,1,50,30,81,49,84,15,23,3,26,56,34,5,82,10,17]]]);